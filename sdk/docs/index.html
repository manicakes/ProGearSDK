<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ProGearSDK: ProGearSDK</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ProGearSDK<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">NeoGeo homebrew development SDK</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('index.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">ProGearSDK </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="mainpage"></a></p>
<p>A C SDK for NeoGeo homebrew development targeting the m68000 CPU.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md0"></a>
Quick Start</h1>
<p>A minimal program that displays text and a movable sprite:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="engine_8h.html">engine.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="fix_8h.html">fix.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="scene_8h.html">scene.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="actor_8h.html">actor.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="input_8h.html">input.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ngres_generated_assets.h&gt;</span>  <span class="comment">// Generated by ngres</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line">    <span class="comment">// Initialize all subsystems (arena, palettes, scene, camera, input, audio)</span></div>
<div class="line">    <a class="code hl_function" href="engine_8h.html#a55017b07231911533e95c93d30e6440e">NGEngineInit</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Display title text</span></div>
<div class="line">    <a class="code hl_struct" href="struct_n_g_fix_layout.html">NGFixLayout</a> title = <a class="code hl_function" href="group__fixlayout.html#gae5dac9a37fb0acae58fe77bbc6de790b">NGFixLayoutAlign</a>(<a class="code hl_enumvalue" href="group__fixlayout.html#gga416ccdfa68817bc0f06a02eb7fa91c00a5793d7fbb9ae7dba4758a95b77bb7180">NG_ALIGN_CENTER</a>, <a class="code hl_enumvalue" href="group__fixlayout.html#gga4fa0058e88c872d184aa07e2d6c0fce2a6011d3907fe9e176f17bcd027fff9796">NG_ALIGN_TOP</a>);</div>
<div class="line">    <a class="code hl_function" href="group__textfunc.html#ga495fe7b4824dd91c3b74b9ae8ced32a6">NGTextPrint</a>(title, 0, <span class="stringliteral">&quot;MY GAME&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create player actor at center of screen</span></div>
<div class="line">    <a class="code hl_typedef" href="group__actorhandle.html#ga49be992058913dd0fe6b6ff8a05ed8fb">NGActorHandle</a> player = <a class="code hl_function" href="group__actorlife.html#ga8e53b11deae6fca8c620cdb4febeda22">NGActorCreate</a>(&amp;NGVisualAsset_player, 0, 0);</div>
<div class="line">    <a class="code hl_function" href="group__actorlife.html#ga5d0a147450ed9443fd0d6d019dae4a18">NGActorAddToScene</a>(player, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(160), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(112), 0);</div>
<div class="line">    <a class="code hl_function" href="group__actorappear.html#ga8ad41dff4e4e86c26b67fed770aab631">NGActorSetVisible</a>(player, 1);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Game loop</span></div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <a class="code hl_function" href="engine_8h.html#a6e8bf3d4bac5edbb8514e537031a1d96">NGEngineFrameStart</a>();  <span class="comment">// vblank, watchdog, arena reset, input</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Move actor with joystick</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="group__inputstate.html#gaf551f11f56673e2530f79665d89443ad">NGInputHeld</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>, <a class="code hl_define" href="group__btnmask.html#ga3659dbd55a2687e46bc8641278461c3c">NG_BTN_LEFT</a>))  <a class="code hl_function" href="group__actorpos.html#ga45705a59149caff207d3f6e9452bb1e0">NGActorMove</a>(player, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(-2), 0);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="group__inputstate.html#gaf551f11f56673e2530f79665d89443ad">NGInputHeld</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>, <a class="code hl_define" href="group__btnmask.html#ga55fe648e7a5de8218960b2e4ef05c460">NG_BTN_RIGHT</a>)) <a class="code hl_function" href="group__actorpos.html#ga45705a59149caff207d3f6e9452bb1e0">NGActorMove</a>(player, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(2), 0);</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="group__inputstate.html#gaf551f11f56673e2530f79665d89443ad">NGInputHeld</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>, <a class="code hl_define" href="group__btnmask.html#ga463558ce8076d091ffa92c3607d07ed4">NG_BTN_UP</a>))    <a class="code hl_function" href="group__actorpos.html#ga45705a59149caff207d3f6e9452bb1e0">NGActorMove</a>(player, 0, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(-2));</div>
<div class="line">        <span class="keywordflow">if</span> (<a class="code hl_function" href="group__inputstate.html#gaf551f11f56673e2530f79665d89443ad">NGInputHeld</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>, <a class="code hl_define" href="group__btnmask.html#ga06043b41e3c1ccd35bddbcefddc01e3e">NG_BTN_DOWN</a>))  <a class="code hl_function" href="group__actorpos.html#ga45705a59149caff207d3f6e9452bb1e0">NGActorMove</a>(player, 0, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(2));</div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="engine_8h.html#ab581b5bb0d999b3b0a82aa73a7fa8435">NGEngineFrameEnd</a>();    <span class="comment">// scene update, scene draw, menu draw</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aactor_8h_html"><div class="ttname"><a href="actor_8h.html">actor.h</a></div><div class="ttdoc">Scene actor management.</div></div>
<div class="ttc" id="aengine_8h_html"><div class="ttname"><a href="engine_8h.html">engine.h</a></div></div>
<div class="ttc" id="aengine_8h_html_a55017b07231911533e95c93d30e6440e"><div class="ttname"><a href="engine_8h.html#a55017b07231911533e95c93d30e6440e">NGEngineInit</a></div><div class="ttdeci">void NGEngineInit(void)</div><div class="ttdoc">Initialize all engine subsystems.</div></div>
<div class="ttc" id="aengine_8h_html_a6e8bf3d4bac5edbb8514e537031a1d96"><div class="ttname"><a href="engine_8h.html#a6e8bf3d4bac5edbb8514e537031a1d96">NGEngineFrameStart</a></div><div class="ttdeci">void NGEngineFrameStart(void)</div><div class="ttdoc">Call at the start of each frame (top of main loop).</div></div>
<div class="ttc" id="aengine_8h_html_ab581b5bb0d999b3b0a82aa73a7fa8435"><div class="ttname"><a href="engine_8h.html#ab581b5bb0d999b3b0a82aa73a7fa8435">NGEngineFrameEnd</a></div><div class="ttdeci">void NGEngineFrameEnd(void)</div><div class="ttdoc">Call at the end of each frame (bottom of main loop).</div></div>
<div class="ttc" id="afix_8h_html"><div class="ttname"><a href="fix_8h.html">fix.h</a></div><div class="ttdoc">Fix layer (text) rendering.</div></div>
<div class="ttc" id="agroup__actorappear_html_ga8ad41dff4e4e86c26b67fed770aab631"><div class="ttname"><a href="group__actorappear.html#ga8ad41dff4e4e86c26b67fed770aab631">NGActorSetVisible</a></div><div class="ttdeci">void NGActorSetVisible(NGActorHandle actor, u8 visible)</div><div class="ttdoc">Set actor visibility.</div></div>
<div class="ttc" id="agroup__actorhandle_html_ga49be992058913dd0fe6b6ff8a05ed8fb"><div class="ttname"><a href="group__actorhandle.html#ga49be992058913dd0fe6b6ff8a05ed8fb">NGActorHandle</a></div><div class="ttdeci">s8 NGActorHandle</div><div class="ttdoc">Actor handle type.</div><div class="ttdef"><b>Definition</b> actor.h:49</div></div>
<div class="ttc" id="agroup__actorlife_html_ga5d0a147450ed9443fd0d6d019dae4a18"><div class="ttname"><a href="group__actorlife.html#ga5d0a147450ed9443fd0d6d019dae4a18">NGActorAddToScene</a></div><div class="ttdeci">void NGActorAddToScene(NGActorHandle actor, fixed x, fixed y, u8 z)</div><div class="ttdoc">Add actor to the scene.</div></div>
<div class="ttc" id="agroup__actorlife_html_ga8e53b11deae6fca8c620cdb4febeda22"><div class="ttname"><a href="group__actorlife.html#ga8e53b11deae6fca8c620cdb4febeda22">NGActorCreate</a></div><div class="ttdeci">NGActorHandle NGActorCreate(const NGVisualAsset *asset, u16 width, u16 height)</div><div class="ttdoc">Create an actor from a visual asset.</div></div>
<div class="ttc" id="agroup__actorpos_html_ga45705a59149caff207d3f6e9452bb1e0"><div class="ttname"><a href="group__actorpos.html#ga45705a59149caff207d3f6e9452bb1e0">NGActorMove</a></div><div class="ttdeci">void NGActorMove(NGActorHandle actor, fixed dx, fixed dy)</div><div class="ttdoc">Move actor by offset.</div></div>
<div class="ttc" id="agroup__btnmask_html_ga06043b41e3c1ccd35bddbcefddc01e3e"><div class="ttname"><a href="group__btnmask.html#ga06043b41e3c1ccd35bddbcefddc01e3e">NG_BTN_DOWN</a></div><div class="ttdeci">#define NG_BTN_DOWN</div><div class="ttdoc">D-pad down.</div><div class="ttdef"><b>Definition</b> input.h:36</div></div>
<div class="ttc" id="agroup__btnmask_html_ga3659dbd55a2687e46bc8641278461c3c"><div class="ttname"><a href="group__btnmask.html#ga3659dbd55a2687e46bc8641278461c3c">NG_BTN_LEFT</a></div><div class="ttdeci">#define NG_BTN_LEFT</div><div class="ttdoc">D-pad left.</div><div class="ttdef"><b>Definition</b> input.h:37</div></div>
<div class="ttc" id="agroup__btnmask_html_ga463558ce8076d091ffa92c3607d07ed4"><div class="ttname"><a href="group__btnmask.html#ga463558ce8076d091ffa92c3607d07ed4">NG_BTN_UP</a></div><div class="ttdeci">#define NG_BTN_UP</div><div class="ttdoc">D-pad up.</div><div class="ttdef"><b>Definition</b> input.h:35</div></div>
<div class="ttc" id="agroup__btnmask_html_ga55fe648e7a5de8218960b2e4ef05c460"><div class="ttname"><a href="group__btnmask.html#ga55fe648e7a5de8218960b2e4ef05c460">NG_BTN_RIGHT</a></div><div class="ttdeci">#define NG_BTN_RIGHT</div><div class="ttdoc">D-pad right.</div><div class="ttdef"><b>Definition</b> input.h:38</div></div>
<div class="ttc" id="agroup__fixed1616_html_ga740431a9a1d25e39e670cd5f48454ce4"><div class="ttname"><a href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a></div><div class="ttdeci">#define FIX(x)</div><div class="ttdoc">Convert integer to fixed.</div><div class="ttdef"><b>Definition</b> ngmath.h:45</div></div>
<div class="ttc" id="agroup__fixlayout_html_gae5dac9a37fb0acae58fe77bbc6de790b"><div class="ttname"><a href="group__fixlayout.html#gae5dac9a37fb0acae58fe77bbc6de790b">NGFixLayoutAlign</a></div><div class="ttdeci">NGFixLayout NGFixLayoutAlign(NGFixHAlign h, NGFixVAlign v)</div><div class="ttdoc">Create layout with alignment.</div></div>
<div class="ttc" id="agroup__fixlayout_html_gga416ccdfa68817bc0f06a02eb7fa91c00a5793d7fbb9ae7dba4758a95b77bb7180"><div class="ttname"><a href="group__fixlayout.html#gga416ccdfa68817bc0f06a02eb7fa91c00a5793d7fbb9ae7dba4758a95b77bb7180">NG_ALIGN_CENTER</a></div><div class="ttdeci">@ NG_ALIGN_CENTER</div><div class="ttdoc">Center horizontally.</div><div class="ttdef"><b>Definition</b> fix.h:56</div></div>
<div class="ttc" id="agroup__fixlayout_html_gga4fa0058e88c872d184aa07e2d6c0fce2a6011d3907fe9e176f17bcd027fff9796"><div class="ttname"><a href="group__fixlayout.html#gga4fa0058e88c872d184aa07e2d6c0fce2a6011d3907fe9e176f17bcd027fff9796">NG_ALIGN_TOP</a></div><div class="ttdeci">@ NG_ALIGN_TOP</div><div class="ttdoc">Align to top edge.</div><div class="ttdef"><b>Definition</b> fix.h:62</div></div>
<div class="ttc" id="agroup__inputstate_html_gaf551f11f56673e2530f79665d89443ad"><div class="ttname"><a href="group__inputstate.html#gaf551f11f56673e2530f79665d89443ad">NGInputHeld</a></div><div class="ttdeci">u8 NGInputHeld(u8 player, u16 buttons)</div><div class="ttdoc">Check if buttons are currently held.</div></div>
<div class="ttc" id="agroup__playerid_html_gaa6d3f89b8f0236be68fc585fe7846bd7"><div class="ttname"><a href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a></div><div class="ttdeci">#define NG_PLAYER_1</div><div class="ttdoc">Player 1.</div><div class="ttdef"><b>Definition</b> input.h:69</div></div>
<div class="ttc" id="agroup__textfunc_html_ga495fe7b4824dd91c3b74b9ae8ced32a6"><div class="ttname"><a href="group__textfunc.html#ga495fe7b4824dd91c3b74b9ae8ced32a6">NGTextPrint</a></div><div class="ttdeci">void NGTextPrint(NGFixLayout layout, u8 palette, const char *str)</div><div class="ttdoc">Print a string.</div></div>
<div class="ttc" id="ainput_8h_html"><div class="ttname"><a href="input_8h.html">input.h</a></div><div class="ttdoc">NeoGeo input handling.</div></div>
<div class="ttc" id="ascene_8h_html"><div class="ttname"><a href="scene_8h.html">scene.h</a></div><div class="ttdoc">Scene management.</div></div>
<div class="ttc" id="astruct_n_g_fix_layout_html"><div class="ttname"><a href="struct_n_g_fix_layout.html">NGFixLayout</a></div><div class="ttdoc">Layout descriptor for text positioning.</div><div class="ttdef"><b>Definition</b> fix.h:68</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md1"></a>
SDK Modules</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md2"></a>
Engine (engine.h)</h2>
<p>The engine module provides convenience functions for application lifecycle management, consolidating subsystem initialization and main loop boilerplate.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="engine_8h.html">engine.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line">    <span class="comment">// Initialize all subsystems at once:</span></div>
<div class="line">    <span class="comment">// - Arena allocators (persistent, state, frame)</span></div>
<div class="line">    <span class="comment">// - Palette system with default fix palette</span></div>
<div class="line">    <span class="comment">// - Fix layer (cleared)</span></div>
<div class="line">    <span class="comment">// - Scene system</span></div>
<div class="line">    <span class="comment">// - Camera</span></div>
<div class="line">    <span class="comment">// - Input</span></div>
<div class="line">    <span class="comment">// - Audio</span></div>
<div class="line">    <span class="comment">// - Generated palette assets (via weak symbol)</span></div>
<div class="line">    <a class="code hl_function" href="engine_8h.html#a55017b07231911533e95c93d30e6440e">NGEngineInit</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create game objects...</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <span class="comment">// Frame start: vblank wait, watchdog kick, frame arena reset, input poll</span></div>
<div class="line">        <a class="code hl_function" href="engine_8h.html#a6e8bf3d4bac5edbb8514e537031a1d96">NGEngineFrameStart</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Your game logic here...</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Frame end: scene update, scene draw, active menu draw</span></div>
<div class="line">        <a class="code hl_function" href="engine_8h.html#ab581b5bb0d999b3b0a82aa73a7fa8435">NGEngineFrameEnd</a>();</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Active Menu</b>: The engine can automatically draw a menu each frame:</p>
<div class="fragment"><div class="line"><span class="comment">// Create menu</span></div>
<div class="line"><a class="code hl_typedef" href="ui_8h.html#a79576d3c90d28a5c9c40aba337faf5fc">NGMenuHandle</a> menu = <a class="code hl_function" href="ui_8h.html#aca49ef21e8221a7d4582df0a484d8fe4">NGMenuCreate</a>(&amp;<a class="code hl_variable" href="arena_8h.html#a1bf716c7cac48da6992a02f9de3fd0e0">ng_arena_state</a>, ...);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Register for automatic drawing in NGEngineFrameEnd()</span></div>
<div class="line"><a class="code hl_function" href="engine_8h.html#afc3cc5bd8a80ef51ca884664c8231e71">NGEngineSetActiveMenu</a>(menu);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Later, to disable:</span></div>
<div class="line"><a class="code hl_function" href="engine_8h.html#afc3cc5bd8a80ef51ca884664c8231e71">NGEngineSetActiveMenu</a>(<a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="ttc" id="aarena_8h_html_a1bf716c7cac48da6992a02f9de3fd0e0"><div class="ttname"><a href="arena_8h.html#a1bf716c7cac48da6992a02f9de3fd0e0">ng_arena_state</a></div><div class="ttdeci">NGArena ng_arena_state</div></div>
<div class="ttc" id="aengine_8h_html_afc3cc5bd8a80ef51ca884664c8231e71"><div class="ttname"><a href="engine_8h.html#afc3cc5bd8a80ef51ca884664c8231e71">NGEngineSetActiveMenu</a></div><div class="ttdeci">void NGEngineSetActiveMenu(NGMenuHandle menu)</div><div class="ttdoc">Set the currently active menu for automatic drawing.</div></div>
<div class="ttc" id="atypes_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> types.h:45</div></div>
<div class="ttc" id="aui_8h_html_a79576d3c90d28a5c9c40aba337faf5fc"><div class="ttname"><a href="ui_8h.html#a79576d3c90d28a5c9c40aba337faf5fc">NGMenuHandle</a></div><div class="ttdeci">struct NGMenu * NGMenuHandle</div><div class="ttdef"><b>Definition</b> ui.h:34</div></div>
<div class="ttc" id="aui_8h_html_aca49ef21e8221a7d4582df0a484d8fe4"><div class="ttname"><a href="ui_8h.html#aca49ef21e8221a7d4582df0a484d8fe4">NGMenuCreate</a></div><div class="ttdeci">NGMenuHandle NGMenuCreate(NGArena *arena, const NGVisualAsset *panel_asset, const NGVisualAsset *cursor_asset, u8 dim_amount)</div><div class="ttdoc">Create a menu using arena allocation.</div></div>
</div><!-- fragment --><p><b>Asset Palette Loading</b>: <span class="tt"><a class="el" href="engine_8h.html#a55017b07231911533e95c93d30e6440e" title="Initialize all engine subsystems.">NGEngineInit()</a></span> automatically calls <span class="tt">NGPalInitAssets()</span> if your project includes <span class="tt">ngres_generated_assets.h</span>. This uses weak symbol linking - the generated function overrides the SDK's no-op default.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md3"></a>
Fix Layer (fix.h)</h2>
<p>The fix layer is a 40x32 tile grid overlaying sprites, used for text and HUD elements.</p>
<div class="fragment"><div class="line"><span class="comment">// Simple text at position</span></div>
<div class="line"><a class="code hl_struct" href="struct_n_g_fix_layout.html">NGFixLayout</a> pos = <a class="code hl_function" href="group__fixlayout.html#ga951cdaab56d5a2fb557efb25ebf7905b">NGFixLayoutXY</a>(5, 10);</div>
<div class="line"><a class="code hl_function" href="group__textfunc.html#ga495fe7b4824dd91c3b74b9ae8ced32a6">NGTextPrint</a>(pos, 0, <span class="stringliteral">&quot;SCORE&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Centered text</span></div>
<div class="line"><a class="code hl_struct" href="struct_n_g_fix_layout.html">NGFixLayout</a> center = <a class="code hl_function" href="group__fixlayout.html#gae5dac9a37fb0acae58fe77bbc6de790b">NGFixLayoutAlign</a>(<a class="code hl_enumvalue" href="group__fixlayout.html#gga416ccdfa68817bc0f06a02eb7fa91c00a5793d7fbb9ae7dba4758a95b77bb7180">NG_ALIGN_CENTER</a>, <a class="code hl_enumvalue" href="group__fixlayout.html#gga4fa0058e88c872d184aa07e2d6c0fce2a48091686032f5f6ff59a7e092ed23610">NG_ALIGN_MIDDLE</a>);</div>
<div class="line"><a class="code hl_function" href="group__textfunc.html#ga495fe7b4824dd91c3b74b9ae8ced32a6">NGTextPrint</a>(center, 0, <span class="stringliteral">&quot;GAME OVER&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Formatted text</span></div>
<div class="line"><a class="code hl_function" href="group__textfunc.html#ga9de551266561761c13f7e01539820d34">NGTextPrintf</a>(pos, 0, <span class="stringliteral">&quot;SCORE %d&quot;</span>, score);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Clear a region</span></div>
<div class="line"><a class="code hl_function" href="group__fixfunc.html#ga39be0c87423f5182556b591232041352">NGFixClear</a>(0, 0, 40, 32);</div>
<div class="ttc" id="agroup__fixfunc_html_ga39be0c87423f5182556b591232041352"><div class="ttname"><a href="group__fixfunc.html#ga39be0c87423f5182556b591232041352">NGFixClear</a></div><div class="ttdeci">void NGFixClear(u8 x, u8 y, u8 w, u8 h)</div><div class="ttdoc">Clear a rectangular region.</div></div>
<div class="ttc" id="agroup__fixlayout_html_ga951cdaab56d5a2fb557efb25ebf7905b"><div class="ttname"><a href="group__fixlayout.html#ga951cdaab56d5a2fb557efb25ebf7905b">NGFixLayoutXY</a></div><div class="ttdeci">static NGFixLayout NGFixLayoutXY(u8 x, u8 y)</div><div class="ttdoc">Create layout for exact position.</div><div class="ttdef"><b>Definition</b> fix.h:99</div></div>
<div class="ttc" id="agroup__fixlayout_html_gga4fa0058e88c872d184aa07e2d6c0fce2a48091686032f5f6ff59a7e092ed23610"><div class="ttname"><a href="group__fixlayout.html#gga4fa0058e88c872d184aa07e2d6c0fce2a48091686032f5f6ff59a7e092ed23610">NG_ALIGN_MIDDLE</a></div><div class="ttdeci">@ NG_ALIGN_MIDDLE</div><div class="ttdoc">Center vertically.</div><div class="ttdef"><b>Definition</b> fix.h:63</div></div>
<div class="ttc" id="agroup__textfunc_html_ga9de551266561761c13f7e01539820d34"><div class="ttname"><a href="group__textfunc.html#ga9de551266561761c13f7e01539820d34">NGTextPrintf</a></div><div class="ttdeci">void NGTextPrintf(NGFixLayout layout, u8 palette, const char *fmt,...)</div><div class="ttdoc">Print formatted text.</div></div>
</div><!-- fragment --><p>See <a class="el" href="group__fixfunc.html">Fix Layer Functions</a> and <a class="el" href="group__textfunc.html">Text Rendering</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md4"></a>
Input (input.h)</h2>
<p>Handles joystick and button input with edge detection.</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="group__inputsys.html#gad68a4942ae8aca284266ec3c25aac20d">NGInputInit</a>();  <span class="comment">// Call once at startup (or use NGEngineInit)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// In game loop:</span></div>
<div class="line"><a class="code hl_function" href="group__inputsys.html#ga3c55ceb8ac0f8d11f2fd648bb3fa501d">NGInputUpdate</a>();  <span class="comment">// Call after vblank (NGEngineFrameStart does this)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check button states</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__inputstate.html#ga97569bd9631fd2cce58cc4b15f2059ea">NGInputPressed</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>, <a class="code hl_define" href="group__btnmask.html#gaa1a0910a301109c081f3458c1b318b6f">NG_BTN_A</a>)) {</div>
<div class="line">    <span class="comment">// A button just pressed this frame (use for jump, shoot)</span></div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__inputstate.html#gaf551f11f56673e2530f79665d89443ad">NGInputHeld</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>, <a class="code hl_define" href="group__btnmask.html#ga3659dbd55a2687e46bc8641278461c3c">NG_BTN_LEFT</a>)) {</div>
<div class="line">    <span class="comment">// Left held down (use for movement)</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Get direction as -1, 0, or +1</span></div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga9e382f207c65ca13ab4ae98363aeda80">s8</a> move_x = <a class="code hl_function" href="group__inputdir.html#gad4acd5ff3fb947083fc14c5ac4c5242c">NGInputGetX</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>);</div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga9e382f207c65ca13ab4ae98363aeda80">s8</a> move_y = <a class="code hl_function" href="group__inputdir.html#gaebd3c4cafedca0ca765717f177a94392">NGInputGetY</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Charge attacks - how long was button held?</span></div>
<div class="line"><a class="code hl_typedef" href="group__types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a> charge = <a class="code hl_function" href="group__inputcharge.html#gadbed2b3246ea36b7cf356bb52c0fc69a">NGInputReleasedFrames</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>, <a class="code hl_define" href="group__btnmask.html#ga1a25bf3f206d3ffefa447a299239e92a">NG_BTN_B</a>);</div>
<div class="ttc" id="agroup__btnmask_html_ga1a25bf3f206d3ffefa447a299239e92a"><div class="ttname"><a href="group__btnmask.html#ga1a25bf3f206d3ffefa447a299239e92a">NG_BTN_B</a></div><div class="ttdeci">#define NG_BTN_B</div><div class="ttdoc">B button.</div><div class="ttdef"><b>Definition</b> input.h:40</div></div>
<div class="ttc" id="agroup__btnmask_html_gaa1a0910a301109c081f3458c1b318b6f"><div class="ttname"><a href="group__btnmask.html#gaa1a0910a301109c081f3458c1b318b6f">NG_BTN_A</a></div><div class="ttdeci">#define NG_BTN_A</div><div class="ttdoc">A button.</div><div class="ttdef"><b>Definition</b> input.h:39</div></div>
<div class="ttc" id="agroup__inputcharge_html_gadbed2b3246ea36b7cf356bb52c0fc69a"><div class="ttname"><a href="group__inputcharge.html#gadbed2b3246ea36b7cf356bb52c0fc69a">NGInputReleasedFrames</a></div><div class="ttdeci">u16 NGInputReleasedFrames(u8 player, u16 button)</div><div class="ttdoc">Get how long button was held before release.</div></div>
<div class="ttc" id="agroup__inputdir_html_gad4acd5ff3fb947083fc14c5ac4c5242c"><div class="ttname"><a href="group__inputdir.html#gad4acd5ff3fb947083fc14c5ac4c5242c">NGInputGetX</a></div><div class="ttdeci">s8 NGInputGetX(u8 player)</div><div class="ttdoc">Get horizontal direction.</div></div>
<div class="ttc" id="agroup__inputdir_html_gaebd3c4cafedca0ca765717f177a94392"><div class="ttname"><a href="group__inputdir.html#gaebd3c4cafedca0ca765717f177a94392">NGInputGetY</a></div><div class="ttdeci">s8 NGInputGetY(u8 player)</div><div class="ttdoc">Get vertical direction.</div></div>
<div class="ttc" id="agroup__inputstate_html_ga97569bd9631fd2cce58cc4b15f2059ea"><div class="ttname"><a href="group__inputstate.html#ga97569bd9631fd2cce58cc4b15f2059ea">NGInputPressed</a></div><div class="ttdeci">u8 NGInputPressed(u8 player, u16 buttons)</div><div class="ttdoc">Check if buttons were just pressed this frame.</div></div>
<div class="ttc" id="agroup__inputsys_html_ga3c55ceb8ac0f8d11f2fd648bb3fa501d"><div class="ttname"><a href="group__inputsys.html#ga3c55ceb8ac0f8d11f2fd648bb3fa501d">NGInputUpdate</a></div><div class="ttdeci">void NGInputUpdate(void)</div><div class="ttdoc">Update input state.</div></div>
<div class="ttc" id="agroup__inputsys_html_gad68a4942ae8aca284266ec3c25aac20d"><div class="ttname"><a href="group__inputsys.html#gad68a4942ae8aca284266ec3c25aac20d">NGInputInit</a></div><div class="ttdeci">void NGInputInit(void)</div><div class="ttdoc">Initialize input system.</div></div>
<div class="ttc" id="agroup__types_html_ga9e382f207c65ca13ab4ae98363aeda80"><div class="ttname"><a href="group__types.html#ga9e382f207c65ca13ab4ae98363aeda80">s8</a></div><div class="ttdeci">int8_t s8</div><div class="ttdoc">Signed 8-bit integer.</div><div class="ttdef"><b>Definition</b> types.h:27</div></div>
<div class="ttc" id="agroup__types_html_gace9d960e74685e2cd84b36132dbbf8aa"><div class="ttname"><a href="group__types.html#gace9d960e74685e2cd84b36132dbbf8aa">u16</a></div><div class="ttdeci">uint16_t u16</div><div class="ttdoc">Unsigned 16-bit integer.</div><div class="ttdef"><b>Definition</b> types.h:25</div></div>
</div><!-- fragment --><p>Button masks: <span class="tt"><a class="el" href="group__btnmask.html#ga463558ce8076d091ffa92c3607d07ed4" title="D-pad up.">NG_BTN_UP</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#ga06043b41e3c1ccd35bddbcefddc01e3e" title="D-pad down.">NG_BTN_DOWN</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#ga3659dbd55a2687e46bc8641278461c3c" title="D-pad left.">NG_BTN_LEFT</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#ga55fe648e7a5de8218960b2e4ef05c460" title="D-pad right.">NG_BTN_RIGHT</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#gaa1a0910a301109c081f3458c1b318b6f" title="A button.">NG_BTN_A</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#ga1a25bf3f206d3ffefa447a299239e92a" title="B button.">NG_BTN_B</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#gaafbb9b09d55e5ad18adfcb462f3b7749" title="C button.">NG_BTN_C</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#gab8743066d0bf5c2f7341e2146b666b50" title="D button.">NG_BTN_D</a></span>, <span class="tt"><a class="el" href="group__btnmask.html#gaed11802da773557f91ce50b1a42370fc" title="Start button.">NG_BTN_START</a></span></p>
<p>See <a class="el" href="group__inputstate.html">State Queries</a> and <a class="el" href="group__inputdir.html">Direction Helpers</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md5"></a>
Actors (actor.h)</h2>
<p>High-level sprite management with animation support. Actor graphics are defined in <span class="tt">assets.yaml</span> and processed by the <span class="tt">ngres</span> tool.</p>
<div class="fragment"><div class="line"><span class="comment">// Create actor (NGVisualAsset_xxx defined in ngres_generated_assets.h)</span></div>
<div class="line"><a class="code hl_typedef" href="group__actorhandle.html#ga49be992058913dd0fe6b6ff8a05ed8fb">NGActorHandle</a> actor = <a class="code hl_function" href="group__actorlife.html#ga8e53b11deae6fca8c620cdb4febeda22">NGActorCreate</a>(&amp;NGVisualAsset_player, 0, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Add to scene at position with Z-index (higher Z = in front)</span></div>
<div class="line"><a class="code hl_function" href="group__actorlife.html#ga5d0a147450ed9443fd0d6d019dae4a18">NGActorAddToScene</a>(actor, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(100), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(50), 0);</div>
<div class="line"><a class="code hl_function" href="group__actorappear.html#ga8ad41dff4e4e86c26b67fed770aab631">NGActorSetVisible</a>(actor, 1);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Position (fixed-point)</span></div>
<div class="line"><a class="code hl_function" href="group__actorpos.html#ga678f5b2f22a60903eb28adacd96e1ffe">NGActorSetPos</a>(actor, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(100), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(50));</div>
<div class="line"><a class="code hl_function" href="group__actorpos.html#ga45705a59149caff207d3f6e9452bb1e0">NGActorMove</a>(actor, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(dx), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(dy));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Animation</span></div>
<div class="line"><a class="code hl_function" href="group__actoranim.html#ga513444a72a720bbecc5c1645252cd2c8">NGActorSetAnimByName</a>(actor, <span class="stringliteral">&quot;walk&quot;</span>);</div>
<div class="line"><a class="code hl_function" href="group__actoranim.html#ga4f2508ba045d921ab41864a0fd7e0b12">NGActorSetAnim</a>(actor, 0);  <span class="comment">// By index</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__actoranim.html#gaa036ad39e7e6f491306273822abdb636">NGActorAnimDone</a>(actor)) {</div>
<div class="line">    <span class="comment">// Non-looping animation finished</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Appearance</span></div>
<div class="line"><a class="code hl_function" href="group__actorappear.html#ga8408668330433f84b0cdecdfb60c7784">NGActorSetHFlip</a>(actor, 1);  <span class="comment">// Face left</span></div>
<div class="line"><a class="code hl_function" href="group__actorappear.html#ga9612b56a56e1f0ad1de34b6faf7ad357">NGActorSetPalette</a>(actor, new_palette);</div>
<div class="line"><a class="code hl_function" href="group__actorappear.html#ga8ad41dff4e4e86c26b67fed770aab631">NGActorSetVisible</a>(actor, 0);  <span class="comment">// Hide</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Cleanup</span></div>
<div class="line"><a class="code hl_function" href="group__actorlife.html#gae6e41f685ca1c9416909d108ab626841">NGActorRemoveFromScene</a>(actor);</div>
<div class="line"><a class="code hl_function" href="group__actorlife.html#ga83ae7867b7a617dcfd7b8999b2fcfcad">NGActorDestroy</a>(actor);</div>
<div class="ttc" id="agroup__actoranim_html_ga4f2508ba045d921ab41864a0fd7e0b12"><div class="ttname"><a href="group__actoranim.html#ga4f2508ba045d921ab41864a0fd7e0b12">NGActorSetAnim</a></div><div class="ttdeci">void NGActorSetAnim(NGActorHandle actor, u8 anim_index)</div><div class="ttdoc">Set animation by index.</div></div>
<div class="ttc" id="agroup__actoranim_html_ga513444a72a720bbecc5c1645252cd2c8"><div class="ttname"><a href="group__actoranim.html#ga513444a72a720bbecc5c1645252cd2c8">NGActorSetAnimByName</a></div><div class="ttdeci">u8 NGActorSetAnimByName(NGActorHandle actor, const char *name)</div><div class="ttdoc">Set animation by name.</div></div>
<div class="ttc" id="agroup__actoranim_html_gaa036ad39e7e6f491306273822abdb636"><div class="ttname"><a href="group__actoranim.html#gaa036ad39e7e6f491306273822abdb636">NGActorAnimDone</a></div><div class="ttdeci">u8 NGActorAnimDone(NGActorHandle actor)</div><div class="ttdoc">Check if non-looping animation has finished.</div></div>
<div class="ttc" id="agroup__actorappear_html_ga8408668330433f84b0cdecdfb60c7784"><div class="ttname"><a href="group__actorappear.html#ga8408668330433f84b0cdecdfb60c7784">NGActorSetHFlip</a></div><div class="ttdeci">void NGActorSetHFlip(NGActorHandle actor, u8 flip)</div><div class="ttdoc">Set horizontal flip.</div></div>
<div class="ttc" id="agroup__actorappear_html_ga9612b56a56e1f0ad1de34b6faf7ad357"><div class="ttname"><a href="group__actorappear.html#ga9612b56a56e1f0ad1de34b6faf7ad357">NGActorSetPalette</a></div><div class="ttdeci">void NGActorSetPalette(NGActorHandle actor, u8 palette)</div><div class="ttdoc">Set actor palette.</div></div>
<div class="ttc" id="agroup__actorlife_html_ga83ae7867b7a617dcfd7b8999b2fcfcad"><div class="ttname"><a href="group__actorlife.html#ga83ae7867b7a617dcfd7b8999b2fcfcad">NGActorDestroy</a></div><div class="ttdeci">void NGActorDestroy(NGActorHandle actor)</div><div class="ttdoc">Destroy actor and free resources.</div></div>
<div class="ttc" id="agroup__actorlife_html_gae6e41f685ca1c9416909d108ab626841"><div class="ttname"><a href="group__actorlife.html#gae6e41f685ca1c9416909d108ab626841">NGActorRemoveFromScene</a></div><div class="ttdeci">void NGActorRemoveFromScene(NGActorHandle actor)</div><div class="ttdoc">Remove actor from scene (can re-add later).</div></div>
<div class="ttc" id="agroup__actorpos_html_ga678f5b2f22a60903eb28adacd96e1ffe"><div class="ttname"><a href="group__actorpos.html#ga678f5b2f22a60903eb28adacd96e1ffe">NGActorSetPos</a></div><div class="ttdeci">void NGActorSetPos(NGActorHandle actor, fixed x, fixed y)</div><div class="ttdoc">Set actor position in scene.</div></div>
</div><!-- fragment --><p><b>Coordinate Spaces</b>: Actors can be world-space (affected by camera) or screen-space (fixed on screen for UI):</p>
<div class="fragment"><div class="line"><span class="comment">// World-space actor (default) - moves with camera</span></div>
<div class="line"><a class="code hl_function" href="group__actorappear.html#ga8441343e54d5c4b37f83b5cb2ccc8753">NGActorSetScreenSpace</a>(actor, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Screen-space actor - fixed position for HUD elements</span></div>
<div class="line"><a class="code hl_function" href="group__actorappear.html#ga8441343e54d5c4b37f83b5cb2ccc8753">NGActorSetScreenSpace</a>(actor, 1);</div>
<div class="ttc" id="agroup__actorappear_html_ga8441343e54d5c4b37f83b5cb2ccc8753"><div class="ttname"><a href="group__actorappear.html#ga8441343e54d5c4b37f83b5cb2ccc8753">NGActorSetScreenSpace</a></div><div class="ttdeci">void NGActorSetScreenSpace(NGActorHandle actor, u8 enabled)</div><div class="ttdoc">Set screen-space mode (for UI elements).</div></div>
</div><!-- fragment --><p>See <a class="el" href="group__actorlife.html">Lifecycle Functions</a> and <a class="el" href="group__actorappear.html">Appearance Functions</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md6"></a>
Scene (scene.h)</h2>
<p>The scene manages all actors and parallax layers, handling updates and rendering.</p>
<div class="fragment"><div class="line"><span class="comment">// Initialize scene system (NGEngineInit does this)</span></div>
<div class="line"><a class="code hl_function" href="group__scenefunc.html#gad44e2674e3ce2ad516274149966612c7">NGSceneInit</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In game loop:</span></div>
<div class="line"><a class="code hl_function" href="group__scenefunc.html#ga628305416db1aff66e3380c574132a0e">NGSceneUpdate</a>();  <span class="comment">// Advance animations</span></div>
<div class="line"><a class="code hl_function" href="group__scenefunc.html#ga6944b90a0d738f233f3111685d6461a6">NGSceneDraw</a>();    <span class="comment">// Render to VRAM (call during vblank)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Clear all objects when changing levels</span></div>
<div class="line"><a class="code hl_function" href="group__scenefunc.html#ga0ade5a1d72d03401f775f4f88b455d60">NGSceneReset</a>();</div>
<div class="ttc" id="agroup__scenefunc_html_ga0ade5a1d72d03401f775f4f88b455d60"><div class="ttname"><a href="group__scenefunc.html#ga0ade5a1d72d03401f775f4f88b455d60">NGSceneReset</a></div><div class="ttdeci">void NGSceneReset(void)</div><div class="ttdoc">Reset scene to empty state.</div></div>
<div class="ttc" id="agroup__scenefunc_html_ga628305416db1aff66e3380c574132a0e"><div class="ttname"><a href="group__scenefunc.html#ga628305416db1aff66e3380c574132a0e">NGSceneUpdate</a></div><div class="ttdeci">void NGSceneUpdate(void)</div><div class="ttdoc">Update all scene objects.</div></div>
<div class="ttc" id="agroup__scenefunc_html_ga6944b90a0d738f233f3111685d6461a6"><div class="ttname"><a href="group__scenefunc.html#ga6944b90a0d738f233f3111685d6461a6">NGSceneDraw</a></div><div class="ttdeci">void NGSceneDraw(void)</div><div class="ttdoc">Draw all scene objects.</div></div>
<div class="ttc" id="agroup__scenefunc_html_gad44e2674e3ce2ad516274149966612c7"><div class="ttname"><a href="group__scenefunc.html#gad44e2674e3ce2ad516274149966612c7">NGSceneInit</a></div><div class="ttdeci">void NGSceneInit(void)</div><div class="ttdoc">Initialize the scene system.</div></div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md7"></a>
Camera System (camera.h)</h2>
<p>The camera controls what portion of the game world is visible on screen. Actors and parallax layers automatically follow the camera.</p>
<p><b>Coordinate System</b>:</p><ul>
<li>World origin (0,0) is at top-left</li>
<li>X increases to the right, Y increases downward</li>
<li>Camera position is the top-left corner of the visible area</li>
<li>NeoGeo screen is 320x224 pixels (use <span class="tt"><a class="el" href="group__camviewport.html#gaabb75fc049bfd90a9c19c342c595c8a0" title="Screen width in pixels.">NG_CAM_VIEWPORT_WIDTH</a></span> and <span class="tt"><a class="el" href="group__camviewport.html#gaae5089e230f2d4b74972bb015088f14a" title="Screen height in pixels.">NG_CAM_VIEWPORT_HEIGHT</a></span>)</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="camera_8h.html">camera.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Initialize camera at world origin</span></div>
<div class="line"><a class="code hl_function" href="group__camsys.html#ga2afb437be89baa95789b27904e22ec68">NGCameraInit</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Position camera (top-left corner of view)</span></div>
<div class="line"><a class="code hl_function" href="group__camsys.html#ga3b7bdf6293c04cd98f891cad1eb9965b">NGCameraSetPos</a>(<a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(100), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(50));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In game loop:</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Move camera with joystick</span></div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga9e382f207c65ca13ab4ae98363aeda80">s8</a> dx = <a class="code hl_function" href="group__inputdir.html#gad4acd5ff3fb947083fc14c5ac4c5242c">NGInputGetX</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>);</div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga9e382f207c65ca13ab4ae98363aeda80">s8</a> dy = <a class="code hl_function" href="group__inputdir.html#gaebd3c4cafedca0ca765717f177a94392">NGInputGetY</a>(<a class="code hl_define" href="group__playerid.html#gaa6d3f89b8f0236be68fc585fe7846bd7">NG_PLAYER_1</a>);</div>
<div class="line"><span class="keywordflow">if</span> (dx || dy) {</div>
<div class="line">    <a class="code hl_function" href="group__camsys.html#ga5fb8c120142f9c186180429a733f4f52">NGCameraMove</a>(<a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(dx * 2), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(dy * 2));</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Keep camera within world bounds</span></div>
<div class="line"><a class="code hl_function" href="group__camutil.html#ga1657287cd2126a97fa20d149b5e0a84f">NGCameraClampToBounds</a>(world_width_pixels, world_height_pixels);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Update camera (handles smooth zoom transitions)</span></div>
<div class="line"><a class="code hl_function" href="group__camsys.html#gac1ef42265da8e4e8e5a00409ce88d796">NGCameraUpdate</a>();</div>
<div class="ttc" id="acamera_8h_html"><div class="ttname"><a href="camera_8h.html">camera.h</a></div><div class="ttdoc">Camera system for viewing the scene.</div></div>
<div class="ttc" id="agroup__camsys_html_ga2afb437be89baa95789b27904e22ec68"><div class="ttname"><a href="group__camsys.html#ga2afb437be89baa95789b27904e22ec68">NGCameraInit</a></div><div class="ttdeci">void NGCameraInit(void)</div><div class="ttdoc">Initialize camera system.</div></div>
<div class="ttc" id="agroup__camsys_html_ga3b7bdf6293c04cd98f891cad1eb9965b"><div class="ttname"><a href="group__camsys.html#ga3b7bdf6293c04cd98f891cad1eb9965b">NGCameraSetPos</a></div><div class="ttdeci">void NGCameraSetPos(fixed x, fixed y)</div><div class="ttdoc">Set camera position (top-left corner of view).</div></div>
<div class="ttc" id="agroup__camsys_html_ga5fb8c120142f9c186180429a733f4f52"><div class="ttname"><a href="group__camsys.html#ga5fb8c120142f9c186180429a733f4f52">NGCameraMove</a></div><div class="ttdeci">void NGCameraMove(fixed dx, fixed dy)</div><div class="ttdoc">Move camera by delta.</div></div>
<div class="ttc" id="agroup__camsys_html_gac1ef42265da8e4e8e5a00409ce88d796"><div class="ttname"><a href="group__camsys.html#gac1ef42265da8e4e8e5a00409ce88d796">NGCameraUpdate</a></div><div class="ttdeci">void NGCameraUpdate(void)</div><div class="ttdoc">Update camera (call once per frame).</div></div>
<div class="ttc" id="agroup__camutil_html_ga1657287cd2126a97fa20d149b5e0a84f"><div class="ttname"><a href="group__camutil.html#ga1657287cd2126a97fa20d149b5e0a84f">NGCameraClampToBounds</a></div><div class="ttdeci">void NGCameraClampToBounds(u16 world_width, u16 world_height)</div><div class="ttdoc">Clamp camera to world bounds.</div></div>
</div><!-- fragment --><p><b>Zoom Effects</b>: The camera supports hardware zoom from 100% down to 50%:</p>
<div class="fragment"><div class="line"><span class="comment">// Instant zoom change</span></div>
<div class="line"><a class="code hl_function" href="group__camsys.html#ga87f80799a5780c942463b114e32c0ab1">NGCameraSetZoom</a>(<a class="code hl_define" href="group__camzoom.html#ga5c953213ebf0eeeb2f4e450444cb11d0">NG_CAM_ZOOM_75</a>);  <span class="comment">// 75% zoom (shows more world)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Smooth zoom transition</span></div>
<div class="line"><a class="code hl_function" href="group__camsys.html#gaf958261b972105456e314de17df11216">NGCameraSetTargetZoom</a>(<a class="code hl_define" href="group__camzoom.html#ga5c953213ebf0eeeb2f4e450444cb11d0">NG_CAM_ZOOM_75</a>);</div>
<div class="line"><span class="comment">// Call NGCameraUpdate() each frame to animate</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check zoom state</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__camsys.html#ga16dc82f856333862104a5413f3fbc221">NGCameraIsZooming</a>()) {</div>
<div class="line">    <span class="comment">// Zoom animation in progress</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Available zoom levels:</span></div>
<div class="line"><span class="comment">// NG_CAM_ZOOM_100 (16) - 100% full size</span></div>
<div class="line"><span class="comment">// NG_CAM_ZOOM_87  (14) - 87.5%</span></div>
<div class="line"><span class="comment">// NG_CAM_ZOOM_75  (12) - 75%</span></div>
<div class="line"><span class="comment">// NG_CAM_ZOOM_62  (10) - 62.5%</span></div>
<div class="line"><span class="comment">// NG_CAM_ZOOM_50  (8)  - 50% half size</span></div>
<div class="ttc" id="agroup__camsys_html_ga16dc82f856333862104a5413f3fbc221"><div class="ttname"><a href="group__camsys.html#ga16dc82f856333862104a5413f3fbc221">NGCameraIsZooming</a></div><div class="ttdeci">u8 NGCameraIsZooming(void)</div><div class="ttdoc">Check if zoom is currently animating.</div></div>
<div class="ttc" id="agroup__camsys_html_ga87f80799a5780c942463b114e32c0ab1"><div class="ttname"><a href="group__camsys.html#ga87f80799a5780c942463b114e32c0ab1">NGCameraSetZoom</a></div><div class="ttdeci">void NGCameraSetZoom(u8 zoom)</div><div class="ttdoc">Set camera zoom level (instant).</div></div>
<div class="ttc" id="agroup__camsys_html_gaf958261b972105456e314de17df11216"><div class="ttname"><a href="group__camsys.html#gaf958261b972105456e314de17df11216">NGCameraSetTargetZoom</a></div><div class="ttdeci">void NGCameraSetTargetZoom(u8 zoom)</div><div class="ttdoc">Set target zoom for smooth transition.</div></div>
<div class="ttc" id="agroup__camzoom_html_ga5c953213ebf0eeeb2f4e450444cb11d0"><div class="ttname"><a href="group__camzoom.html#ga5c953213ebf0eeeb2f4e450444cb11d0">NG_CAM_ZOOM_75</a></div><div class="ttdeci">#define NG_CAM_ZOOM_75</div><div class="ttdoc">75%</div><div class="ttdef"><b>Definition</b> camera.h:72</div></div>
</div><!-- fragment --><p><b>Screen Shake</b>:</p>
<div class="fragment"><div class="line"><span class="comment">// Start shake effect</span></div>
<div class="line"><a class="code hl_function" href="group__cameffects.html#gaac78734ed5aa92d866401a57967bec5d">NGCameraShake</a>(4, 15);  <span class="comment">// Intensity 4, duration 15 frames</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if shaking</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code hl_function" href="group__cameffects.html#ga9b74cbe038b547112753d4d1a3695456">NGCameraIsShaking</a>()) { ... }</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Stop early</span></div>
<div class="line"><a class="code hl_function" href="group__cameffects.html#ga71647c1884e2d4cbb60e66f02277d4f3">NGCameraShakeStop</a>();</div>
<div class="ttc" id="agroup__cameffects_html_ga71647c1884e2d4cbb60e66f02277d4f3"><div class="ttname"><a href="group__cameffects.html#ga71647c1884e2d4cbb60e66f02277d4f3">NGCameraShakeStop</a></div><div class="ttdeci">void NGCameraShakeStop(void)</div><div class="ttdoc">Stop shake effect immediately.</div></div>
<div class="ttc" id="agroup__cameffects_html_ga9b74cbe038b547112753d4d1a3695456"><div class="ttname"><a href="group__cameffects.html#ga9b74cbe038b547112753d4d1a3695456">NGCameraIsShaking</a></div><div class="ttdeci">u8 NGCameraIsShaking(void)</div><div class="ttdoc">Check if shake effect is active.</div></div>
<div class="ttc" id="agroup__cameffects_html_gaac78734ed5aa92d866401a57967bec5d"><div class="ttname"><a href="group__cameffects.html#gaac78734ed5aa92d866401a57967bec5d">NGCameraShake</a></div><div class="ttdeci">void NGCameraShake(u8 intensity, u8 duration)</div><div class="ttdoc">Trigger camera shake effect.</div></div>
</div><!-- fragment --><p><b>Coordinate Transformation</b>: Convert between world and screen coordinates:</p>
<div class="fragment"><div class="line"><span class="comment">// World position to screen position</span></div>
<div class="line"><a class="code hl_typedef" href="group__types.html#gaa980e2c02ba2305e0f489d5650655425">s16</a> screen_x, screen_y;</div>
<div class="line"><a class="code hl_function" href="group__camutil.html#ga1ba3c7ec0d2e9011d7ffbf4ad05a1227">NGCameraWorldToScreen</a>(world_x, world_y, &amp;screen_x, &amp;screen_y);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Screen position to world position (e.g., for cursor)</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> world_x, world_y;</div>
<div class="line"><a class="code hl_function" href="group__camutil.html#gae5e17873d8a4c17c9b6dd968d8b41310">NGCameraScreenToWorld</a>(screen_x, screen_y, &amp;world_x, &amp;world_y);</div>
<div class="ttc" id="agroup__camutil_html_ga1ba3c7ec0d2e9011d7ffbf4ad05a1227"><div class="ttname"><a href="group__camutil.html#ga1ba3c7ec0d2e9011d7ffbf4ad05a1227">NGCameraWorldToScreen</a></div><div class="ttdeci">void NGCameraWorldToScreen(fixed world_x, fixed world_y, s16 *screen_x, s16 *screen_y)</div><div class="ttdoc">Transform world coordinates to screen coordinates.</div></div>
<div class="ttc" id="agroup__camutil_html_gae5e17873d8a4c17c9b6dd968d8b41310"><div class="ttname"><a href="group__camutil.html#gae5e17873d8a4c17c9b6dd968d8b41310">NGCameraScreenToWorld</a></div><div class="ttdeci">void NGCameraScreenToWorld(s16 screen_x, s16 screen_y, fixed *world_x, fixed *world_y)</div><div class="ttdoc">Transform screen coordinates to world coordinates.</div></div>
<div class="ttc" id="agroup__fixedtypes_html_gab10b35d10a092b9db6712d15cb9d6ad9"><div class="ttname"><a href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a></div><div class="ttdeci">s32 fixed</div><div class="ttdoc">16.16 fixed-point (32-bit): range +/-32767.9999</div><div class="ttdef"><b>Definition</b> ngmath.h:28</div></div>
<div class="ttc" id="agroup__types_html_gaa980e2c02ba2305e0f489d5650655425"><div class="ttname"><a href="group__types.html#gaa980e2c02ba2305e0f489d5650655425">s16</a></div><div class="ttdeci">int16_t s16</div><div class="ttdoc">Signed 16-bit integer.</div><div class="ttdef"><b>Definition</b> types.h:28</div></div>
</div><!-- fragment --><p>See <a class="el" href="group__camsys.html">Camera System</a> and <a class="el" href="group__camutil.html">Camera Utilities</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md8"></a>
Parallax Layers (parallax.h)</h2>
<p>Hardware-accelerated tilemap scrolling using NeoGeo's sprite system. Parallax layers automatically follow the camera with configurable scroll rates.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="parallax_8h.html">parallax.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;ngres_generated_assets.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create parallax layer from visual asset</span></div>
<div class="line"><a class="code hl_typedef" href="group__parallaxhandle.html#gad9ad715a46640e1bfb27922d347034c9">NGParallaxHandle</a> bg = <a class="code hl_function" href="group__parallaxlife.html#ga1e67855ad4a5cc7c9a5bba31cdff1bd3">NGParallaxCreate</a>(</div>
<div class="line">    &amp;NGVisualAsset_background,</div>
<div class="line">    <a class="code hl_define" href="group__parallaxconst.html#ga5cdf1b5ca5dd1e65d8c767cbe4e634be">NG_PARALLAX_WIDTH_INFINITE</a>,  <span class="comment">// Infinite width for seamless scrolling</span></div>
<div class="line">    0,                            <span class="comment">// Use asset height</span></div>
<div class="line">    <a class="code hl_define" href="group__fixed1616.html#ga485478deea5ba033b373a6e9653a66bb">FIX_FROM_FLOAT</a>(0.5),         <span class="comment">// Horizontal parallax (0.5 = half camera speed)</span></div>
<div class="line">    <a class="code hl_define" href="group__fixed1616.html#ga485478deea5ba033b373a6e9653a66bb">FIX_FROM_FLOAT</a>(0.5)          <span class="comment">// Vertical parallax</span></div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Add to scene at viewport position with Z-index</span></div>
<div class="line"><a class="code hl_function" href="group__parallaxlife.html#gac18e7c2950c798a398cdd7a6ac9e773e">NGParallaxAddToScene</a>(bg, 0, 0, 0);  <span class="comment">// Z=0, furthest back</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create multiple layers for depth</span></div>
<div class="line"><a class="code hl_typedef" href="group__parallaxhandle.html#gad9ad715a46640e1bfb27922d347034c9">NGParallaxHandle</a> mid = <a class="code hl_function" href="group__parallaxlife.html#ga1e67855ad4a5cc7c9a5bba31cdff1bd3">NGParallaxCreate</a>(&amp;NGVisualAsset_midground, ...);</div>
<div class="line"><a class="code hl_function" href="group__parallaxlife.html#gac18e7c2950c798a398cdd7a6ac9e773e">NGParallaxAddToScene</a>(mid, 0, 50, 1);  <span class="comment">// Z=1, in front of bg</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__parallaxhandle.html#gad9ad715a46640e1bfb27922d347034c9">NGParallaxHandle</a> fg = <a class="code hl_function" href="group__parallaxlife.html#ga1e67855ad4a5cc7c9a5bba31cdff1bd3">NGParallaxCreate</a>(&amp;NGVisualAsset_foreground, ...);</div>
<div class="line"><a class="code hl_function" href="group__parallaxlife.html#gac18e7c2950c798a398cdd7a6ac9e773e">NGParallaxAddToScene</a>(fg, 0, 100, 2);  <span class="comment">// Z=2, closest</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Cleanup</span></div>
<div class="line"><a class="code hl_function" href="group__parallaxlife.html#ga9b1023aa644fd7a2f11445cfeb41b4a2">NGParallaxRemoveFromScene</a>(bg);</div>
<div class="line"><a class="code hl_function" href="group__parallaxlife.html#ga52fdd50d3ccb59ab90bb6b27e676157c">NGParallaxDestroy</a>(bg);</div>
<div class="ttc" id="agroup__fixed1616_html_ga485478deea5ba033b373a6e9653a66bb"><div class="ttname"><a href="group__fixed1616.html#ga485478deea5ba033b373a6e9653a66bb">FIX_FROM_FLOAT</a></div><div class="ttdeci">#define FIX_FROM_FLOAT(x)</div><div class="ttdoc">Convert float literal to fixed (compile-time only).</div><div class="ttdef"><b>Definition</b> ngmath.h:54</div></div>
<div class="ttc" id="agroup__parallaxconst_html_ga5cdf1b5ca5dd1e65d8c767cbe4e634be"><div class="ttname"><a href="group__parallaxconst.html#ga5cdf1b5ca5dd1e65d8c767cbe4e634be">NG_PARALLAX_WIDTH_INFINITE</a></div><div class="ttdeci">#define NG_PARALLAX_WIDTH_INFINITE</div><div class="ttdoc">Infinite width value.</div><div class="ttdef"><b>Definition</b> parallax.h:51</div></div>
<div class="ttc" id="agroup__parallaxhandle_html_gad9ad715a46640e1bfb27922d347034c9"><div class="ttname"><a href="group__parallaxhandle.html#gad9ad715a46640e1bfb27922d347034c9">NGParallaxHandle</a></div><div class="ttdeci">s8 NGParallaxHandle</div><div class="ttdoc">Parallax handle type.</div><div class="ttdef"><b>Definition</b> parallax.h:60</div></div>
<div class="ttc" id="agroup__parallaxlife_html_ga1e67855ad4a5cc7c9a5bba31cdff1bd3"><div class="ttname"><a href="group__parallaxlife.html#ga1e67855ad4a5cc7c9a5bba31cdff1bd3">NGParallaxCreate</a></div><div class="ttdeci">NGParallaxHandle NGParallaxCreate(const NGVisualAsset *asset, u16 width, u16 height, fixed parallax_x, fixed parallax_y)</div><div class="ttdoc">Create a parallax effect from a visual asset.</div></div>
<div class="ttc" id="agroup__parallaxlife_html_ga52fdd50d3ccb59ab90bb6b27e676157c"><div class="ttname"><a href="group__parallaxlife.html#ga52fdd50d3ccb59ab90bb6b27e676157c">NGParallaxDestroy</a></div><div class="ttdeci">void NGParallaxDestroy(NGParallaxHandle parallax)</div><div class="ttdoc">Destroy parallax effect and free resources.</div></div>
<div class="ttc" id="agroup__parallaxlife_html_ga9b1023aa644fd7a2f11445cfeb41b4a2"><div class="ttname"><a href="group__parallaxlife.html#ga9b1023aa644fd7a2f11445cfeb41b4a2">NGParallaxRemoveFromScene</a></div><div class="ttdeci">void NGParallaxRemoveFromScene(NGParallaxHandle parallax)</div><div class="ttdoc">Remove parallax from scene (can re-add later).</div></div>
<div class="ttc" id="agroup__parallaxlife_html_gac18e7c2950c798a398cdd7a6ac9e773e"><div class="ttname"><a href="group__parallaxlife.html#gac18e7c2950c798a398cdd7a6ac9e773e">NGParallaxAddToScene</a></div><div class="ttdeci">void NGParallaxAddToScene(NGParallaxHandle parallax, s16 viewport_x, s16 viewport_y, u8 z)</div><div class="ttdoc">Add parallax effect to the scene.</div></div>
<div class="ttc" id="aparallax_8h_html"><div class="ttname"><a href="parallax_8h.html">parallax.h</a></div><div class="ttdoc">Parallax effect management.</div></div>
</div><!-- fragment --><p><b>Parallax Values</b>:</p><ul>
<li><span class="tt"><a class="el" href="group__fixed1616.html#ga485478deea5ba033b373a6e9653a66bb" title="Convert float literal to fixed (compile-time only).">FIX_FROM_FLOAT</a>(0.0)</span> - Static, doesn't move</li>
<li><span class="tt"><a class="el" href="group__fixed1616.html#ga485478deea5ba033b373a6e9653a66bb" title="Convert float literal to fixed (compile-time only).">FIX_FROM_FLOAT</a>(0.25)</span> - Slow, distant background</li>
<li><span class="tt"><a class="el" href="group__fixed1616.html#ga485478deea5ba033b373a6e9653a66bb" title="Convert float literal to fixed (compile-time only).">FIX_FROM_FLOAT</a>(0.5)</span> - Medium, mid-ground</li>
<li><span class="tt"><a class="el" href="group__fixed1616.html#ga4ceea0e31ae25efeaa7a4c76d85ed950" title="1.0 in fixed format">FIX_ONE</a></span> - 1:1 with camera, same as game objects</li>
</ul>
<p>See <a class="el" href="group__parallaxlife.html">Lifecycle Functions</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md9"></a>
Palettes (palette.h)</h2>
<p>The NeoGeo has 256 palettes of 16 colors each. Palettes 0-15 are typically for the fix layer, 16-255 for sprites.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="palette_8h.html">palette.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="color_8h.html">color.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set individual color (5-bit RGB, 0-31 per channel)</span></div>
<div class="line"><a class="code hl_function" href="group__palcolor.html#gaa057bfd349b8daf13c3ececbdcd719c1">NGPalSetColor</a>(16, 1, <a class="code hl_define" href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a>(31, 0, 0));  <span class="comment">// Bright red</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set entire palette from array</span></div>
<div class="line"><a class="code hl_function" href="group__palbulk.html#gafb586a64c948a166cdf13cfeb9bff8b5">NGPalSet</a>(16, my_colors);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Generate gradients</span></div>
<div class="line"><a class="code hl_function" href="group__palgrad.html#gaf573963eddeea1e7433ebf711bad0a10">NGPalGradient</a>(16, 1, 8, <a class="code hl_define" href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a>(0, 0, 31), <a class="code hl_define" href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a>(31, 31, 31));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Fade effects (for transitions)</span></div>
<div class="line"><a class="code hl_function" href="group__palfade.html#ga3551649df018d74061f082f6b028bcc5">NGPalFadeToBlack</a>(16, amount);  <span class="comment">// amount: 0-31</span></div>
<div class="line"><a class="code hl_function" href="group__palfade.html#ga9d8653c75cadcc7b2cf564b0b7bfdf55">NGPalFadeToWhite</a>(16, amount);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Background color (visible where no sprites/tiles)</span></div>
<div class="line"><a class="code hl_function" href="group__palbackdrop.html#gad6029135e36a54308c54924ebd4422b1">NGPalSetBackdrop</a>(<a class="code hl_define" href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a>(0, 0, 8));  <span class="comment">// Dark blue</span></div>
<div class="ttc" id="acolor_8h_html"><div class="ttname"><a href="color_8h.html">color.h</a></div><div class="ttdoc">NeoGeo color definitions and utilities.</div></div>
<div class="ttc" id="agroup__colorconstruct_html_ga76a41c0483555994248cec61ed445f9c"><div class="ttname"><a href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a></div><div class="ttdeci">#define NG_RGB(r, g, b)</div><div class="ttdoc">Build color from 5-bit RGB components (0-31 each).</div><div class="ttdef"><b>Definition</b> color.h:37</div></div>
<div class="ttc" id="agroup__palbackdrop_html_gad6029135e36a54308c54924ebd4422b1"><div class="ttname"><a href="group__palbackdrop.html#gad6029135e36a54308c54924ebd4422b1">NGPalSetBackdrop</a></div><div class="ttdeci">void NGPalSetBackdrop(NGColor color)</div><div class="ttdoc">Set the backdrop/background color.</div></div>
<div class="ttc" id="agroup__palbulk_html_gafb586a64c948a166cdf13cfeb9bff8b5"><div class="ttname"><a href="group__palbulk.html#gafb586a64c948a166cdf13cfeb9bff8b5">NGPalSet</a></div><div class="ttdeci">void NGPalSet(u8 palette, const NGColor colors[NG_PAL_SIZE])</div><div class="ttdoc">Set an entire palette (16 colors).</div></div>
<div class="ttc" id="agroup__palcolor_html_gaa057bfd349b8daf13c3ececbdcd719c1"><div class="ttname"><a href="group__palcolor.html#gaa057bfd349b8daf13c3ececbdcd719c1">NGPalSetColor</a></div><div class="ttdeci">void NGPalSetColor(u8 palette, u8 index, NGColor color)</div><div class="ttdoc">Set a single color in a palette.</div></div>
<div class="ttc" id="agroup__palfade_html_ga3551649df018d74061f082f6b028bcc5"><div class="ttname"><a href="group__palfade.html#ga3551649df018d74061f082f6b028bcc5">NGPalFadeToBlack</a></div><div class="ttdeci">void NGPalFadeToBlack(u8 palette, u8 amount)</div><div class="ttdoc">Fade palette toward black.</div></div>
<div class="ttc" id="agroup__palfade_html_ga9d8653c75cadcc7b2cf564b0b7bfdf55"><div class="ttname"><a href="group__palfade.html#ga9d8653c75cadcc7b2cf564b0b7bfdf55">NGPalFadeToWhite</a></div><div class="ttdeci">void NGPalFadeToWhite(u8 palette, u8 amount)</div><div class="ttdoc">Fade palette toward white.</div></div>
<div class="ttc" id="agroup__palgrad_html_gaf573963eddeea1e7433ebf711bad0a10"><div class="ttname"><a href="group__palgrad.html#gaf573963eddeea1e7433ebf711bad0a10">NGPalGradient</a></div><div class="ttdeci">void NGPalGradient(u8 palette, u8 start_idx, u8 end_idx, NGColor start_color, NGColor end_color)</div><div class="ttdoc">Generate a gradient between two colors.</div></div>
<div class="ttc" id="apalette_8h_html"><div class="ttname"><a href="palette_8h.html">palette.h</a></div><div class="ttdoc">NeoGeo palette management.</div></div>
</div><!-- fragment --><p>See <a class="el" href="group__palcolor.html">Single Color Operations</a>, <a class="el" href="group__palgrad.html">Gradient Generation</a>, and <a class="el" href="group__palfade.html">Fade Effects</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md10"></a>
Colors (color.h)</h2>
<p>Colors are 16-bit: 1 dark bit + 5 bits each for R, G, B (32 shades per channel).</p>
<div class="fragment"><div class="line"><span class="comment">// Construct colors (5-bit components, 0-31)</span></div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> red   = <a class="code hl_define" href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a>(31, 0, 0);</div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> white = <a class="code hl_define" href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a>(31, 31, 31);</div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> black = <a class="code hl_define" href="group__colorconstruct.html#ga76a41c0483555994248cec61ed445f9c">NG_RGB</a>(0, 0, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Alternative constructors</span></div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> c1 = <a class="code hl_define" href="group__colorconstruct.html#gafade1ac5c3184534d8f99f0ddc07b642">NG_RGB4</a>(0xF, 0x8, 0x0);  <span class="comment">// 4-bit (0-15)</span></div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> c2 = <a class="code hl_define" href="group__colorconstruct.html#ga7536ae115641e598e417bb6436d4fcec">NG_RGB8</a>(255, 128, 0);   <span class="comment">// 8-bit (0-255, auto-converts)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Pre-defined colors</span></div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> red   = <a class="code hl_define" href="group__colorconst.html#ga56fa77b530e465979f912bc42a6d1860">NG_COLOR_RED</a>;</div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> sky   = <a class="code hl_define" href="group__colorconst.html#ga7c26fc56c64a57b915052981b375bf92">NG_COLOR_SKY_BLUE</a>;</div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> gray  = <a class="code hl_define" href="group__colorconst.html#ga850a6442726cea3ccf8fb6cb29f6e606">NG_COLOR_GRAY</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Extract components</span></div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga92c50087ca0e64fa93fc59402c55f8ca">u8</a> r = <a class="code hl_function" href="group__colorextract.html#ga38a988f6bf1f2865ecfb36046c9740d6">NGColorGetRed</a>(color);    <span class="comment">// 0-31</span></div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga92c50087ca0e64fa93fc59402c55f8ca">u8</a> g = <a class="code hl_function" href="group__colorextract.html#gae0bdce4d3588d47d904a3d800fca3b72">NGColorGetGreen</a>(color);</div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga92c50087ca0e64fa93fc59402c55f8ca">u8</a> b = <a class="code hl_function" href="group__colorextract.html#ga258dac254e1a3ca114283f9bf6267e87">NGColorGetBlue</a>(color);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Manipulate colors</span></div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> darker = <a class="code hl_function" href="group__colormanip.html#ga0641b3e70bce2590dc04fd2c64d0a863">NGColorDarken</a>(color, 8);</div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> lighter = <a class="code hl_function" href="group__colormanip.html#gac724548f56092882016f3b9a31f03c6a">NGColorLighten</a>(color, 8);</div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> mixed = <a class="code hl_function" href="group__colormanip.html#ga0ed7bb57ee17c423bbc16c1ab9cb16b5">NGColorBlend</a>(color1, color2, 128);  <span class="comment">// 128 = 50%</span></div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> gray = <a class="code hl_function" href="group__colormanip.html#gaef55a32cecb6f9d17eef50838df39106">NGColorGrayscale</a>(color);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create from HSV</span></div>
<div class="line"><a class="code hl_typedef" href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a> rainbow = <a class="code hl_function" href="group__colorgen.html#gafaa2a5b80ba05f7d2cc488452ad57a37">NGColorFromHSV</a>(hue, 255, 255);  <span class="comment">// hue: 0-255</span></div>
<div class="ttc" id="acolor_8h_html_a88c5dd00d68a536ea119ff3fa08b26ef"><div class="ttname"><a href="color_8h.html#a88c5dd00d68a536ea119ff3fa08b26ef">NGColor</a></div><div class="ttdeci">u16 NGColor</div><div class="ttdoc">NeoGeo 16-bit color type.</div><div class="ttdef"><b>Definition</b> color.h:29</div></div>
<div class="ttc" id="agroup__colorconst_html_ga56fa77b530e465979f912bc42a6d1860"><div class="ttname"><a href="group__colorconst.html#ga56fa77b530e465979f912bc42a6d1860">NG_COLOR_RED</a></div><div class="ttdeci">#define NG_COLOR_RED</div><div class="ttdoc">Bright red.</div><div class="ttdef"><b>Definition</b> color.h:76</div></div>
<div class="ttc" id="agroup__colorconst_html_ga7c26fc56c64a57b915052981b375bf92"><div class="ttname"><a href="group__colorconst.html#ga7c26fc56c64a57b915052981b375bf92">NG_COLOR_SKY_BLUE</a></div><div class="ttdeci">#define NG_COLOR_SKY_BLUE</div><div class="ttdoc">Sky blue.</div><div class="ttdef"><b>Definition</b> color.h:100</div></div>
<div class="ttc" id="agroup__colorconst_html_ga850a6442726cea3ccf8fb6cb29f6e606"><div class="ttname"><a href="group__colorconst.html#ga850a6442726cea3ccf8fb6cb29f6e606">NG_COLOR_GRAY</a></div><div class="ttdeci">#define NG_COLOR_GRAY</div><div class="ttdoc">Medium gray.</div><div class="ttdef"><b>Definition</b> color.h:91</div></div>
<div class="ttc" id="agroup__colorconstruct_html_ga7536ae115641e598e417bb6436d4fcec"><div class="ttname"><a href="group__colorconstruct.html#ga7536ae115641e598e417bb6436d4fcec">NG_RGB8</a></div><div class="ttdeci">#define NG_RGB8(r, g, b)</div><div class="ttdoc">Build color from 8-bit RGB (0-255), auto-converts to 5-bit.</div><div class="ttdef"><b>Definition</b> color.h:60</div></div>
<div class="ttc" id="agroup__colorconstruct_html_gafade1ac5c3184534d8f99f0ddc07b642"><div class="ttname"><a href="group__colorconstruct.html#gafade1ac5c3184534d8f99f0ddc07b642">NG_RGB4</a></div><div class="ttdeci">#define NG_RGB4(r, g, b)</div><div class="ttdoc">Build color from 4-bit RGB components (0-15 each).</div><div class="ttdef"><b>Definition</b> color.h:52</div></div>
<div class="ttc" id="agroup__colorextract_html_ga258dac254e1a3ca114283f9bf6267e87"><div class="ttname"><a href="group__colorextract.html#ga258dac254e1a3ca114283f9bf6267e87">NGColorGetBlue</a></div><div class="ttdeci">static u8 NGColorGetBlue(NGColor c)</div><div class="ttdoc">Extract 5-bit blue component (0-31).</div><div class="ttdef"><b>Definition</b> color.h:128</div></div>
<div class="ttc" id="agroup__colorextract_html_ga38a988f6bf1f2865ecfb36046c9740d6"><div class="ttname"><a href="group__colorextract.html#ga38a988f6bf1f2865ecfb36046c9740d6">NGColorGetRed</a></div><div class="ttdeci">static u8 NGColorGetRed(NGColor c)</div><div class="ttdoc">Extract 5-bit red component (0-31).</div><div class="ttdef"><b>Definition</b> color.h:116</div></div>
<div class="ttc" id="agroup__colorextract_html_gae0bdce4d3588d47d904a3d800fca3b72"><div class="ttname"><a href="group__colorextract.html#gae0bdce4d3588d47d904a3d800fca3b72">NGColorGetGreen</a></div><div class="ttdeci">static u8 NGColorGetGreen(NGColor c)</div><div class="ttdoc">Extract 5-bit green component (0-31).</div><div class="ttdef"><b>Definition</b> color.h:122</div></div>
<div class="ttc" id="agroup__colorgen_html_gafaa2a5b80ba05f7d2cc488452ad57a37"><div class="ttname"><a href="group__colorgen.html#gafaa2a5b80ba05f7d2cc488452ad57a37">NGColorFromHSV</a></div><div class="ttdeci">NGColor NGColorFromHSV(u8 h, u8 s, u8 v)</div><div class="ttdoc">Create color from HSV values.</div></div>
<div class="ttc" id="agroup__colormanip_html_ga0641b3e70bce2590dc04fd2c64d0a863"><div class="ttname"><a href="group__colormanip.html#ga0641b3e70bce2590dc04fd2c64d0a863">NGColorDarken</a></div><div class="ttdeci">NGColor NGColorDarken(NGColor c, u8 amount)</div><div class="ttdoc">Darken a color toward black.</div></div>
<div class="ttc" id="agroup__colormanip_html_ga0ed7bb57ee17c423bbc16c1ab9cb16b5"><div class="ttname"><a href="group__colormanip.html#ga0ed7bb57ee17c423bbc16c1ab9cb16b5">NGColorBlend</a></div><div class="ttdeci">NGColor NGColorBlend(NGColor a, NGColor b, u8 ratio)</div><div class="ttdoc">Blend two colors.</div></div>
<div class="ttc" id="agroup__colormanip_html_gac724548f56092882016f3b9a31f03c6a"><div class="ttname"><a href="group__colormanip.html#gac724548f56092882016f3b9a31f03c6a">NGColorLighten</a></div><div class="ttdeci">NGColor NGColorLighten(NGColor c, u8 amount)</div><div class="ttdoc">Lighten a color toward white.</div></div>
<div class="ttc" id="agroup__colormanip_html_gaef55a32cecb6f9d17eef50838df39106"><div class="ttname"><a href="group__colormanip.html#gaef55a32cecb6f9d17eef50838df39106">NGColorGrayscale</a></div><div class="ttdeci">NGColor NGColorGrayscale(NGColor c)</div><div class="ttdoc">Convert color to grayscale.</div></div>
<div class="ttc" id="agroup__types_html_ga92c50087ca0e64fa93fc59402c55f8ca"><div class="ttname"><a href="group__types.html#ga92c50087ca0e64fa93fc59402c55f8ca">u8</a></div><div class="ttdeci">uint8_t u8</div><div class="ttdoc">Unsigned 8-bit integer.</div><div class="ttdef"><b>Definition</b> types.h:24</div></div>
</div><!-- fragment --><p>See <a class="el" href="group__colorconstruct.html">Color Construction</a> and <a class="el" href="group__colormanip.html">Color Manipulation</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md11"></a>
Physics (physics.h)</h2>
<p>Optional 2D physics with AABB and circle collision shapes.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="physics_8h.html">physics.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="ngmath_8h.html">ngmath.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create world</span></div>
<div class="line"><a class="code hl_typedef" href="group__physworld.html#gaca723cbf4f28b8cb2a279e64a51cfeed">NGPhysWorldHandle</a> world = <a class="code hl_function" href="group__physworldfn.html#gad814dc24ccee35df2454f52ef0c8bba6">NGPhysWorldCreate</a>();</div>
<div class="line"><a class="code hl_function" href="group__physworldfn.html#gaa4ec25d6801866f2cf7ea2ca44c25e68">NGPhysWorldSetGravity</a>(world, 0, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(1));  <span class="comment">// Downward gravity</span></div>
<div class="line"><a class="code hl_function" href="group__physworldfn.html#gad2e33f15c4ee9ee2310bf283d9ce5921">NGPhysWorldSetBounds</a>(world, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(0), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(320), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(0), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(224));</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create bodies</span></div>
<div class="line"><a class="code hl_typedef" href="group__physbody.html#ga71f06725f5584492191561d34474b9e4">NGBodyHandle</a> ball = <a class="code hl_function" href="group__physbodyfn.html#gaa6fe7d788f7474d886061afe1d09b4be">NGPhysBodyCreateCircle</a>(world, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(160), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(50), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(8));</div>
<div class="line"><a class="code hl_function" href="group__physprop.html#gaff3ae048ea28053186ba96ccf5929700">NGPhysBodySetVel</a>(ball, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(2), 0);</div>
<div class="line"><a class="code hl_function" href="group__physprop.html#ga763fa63ef4e97a20660c2bd5cadbdb1c">NGPhysBodySetRestitution</a>(ball, <a class="code hl_define" href="group__fixed1616.html#ga4ceea0e31ae25efeaa7a4c76d85ed950">FIX_ONE</a>);  <span class="comment">// Perfect bounce</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_typedef" href="group__physbody.html#ga71f06725f5584492191561d34474b9e4">NGBodyHandle</a> platform = <a class="code hl_function" href="group__physbodyfn.html#ga6bd850b79955c91d2f94432dbfbcd2fc">NGPhysBodyCreateAABB</a>(world, <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(160), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(200), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(40), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(4));</div>
<div class="line"><a class="code hl_function" href="group__physprop.html#gaf95e2b408040f86683af1496776a59fa">NGPhysBodySetStatic</a>(platform, 1);  <span class="comment">// Doesn&#39;t move</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Collision callback</span></div>
<div class="line"><span class="keywordtype">void</span> on_collision(<a class="code hl_struct" href="struct_n_g_collision.html">NGCollision</a> *col, <span class="keywordtype">void</span> *data) {</div>
<div class="line">    <span class="comment">// Handle collision between col-&gt;body_a and col-&gt;body_b</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// In game loop:</span></div>
<div class="line"><a class="code hl_function" href="group__physworldfn.html#ga94226cbb592cb8831d67f079d6e25984">NGPhysWorldUpdate</a>(world, on_collision, <a class="code hl_define" href="types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Sync actor to physics body</span></div>
<div class="line"><a class="code hl_struct" href="struct_n_g_vec2.html">NGVec2</a> pos = <a class="code hl_function" href="group__physprop.html#ga440ab5b3164444d3065371189e60234d">NGPhysBodyGetPos</a>(ball);</div>
<div class="line"><a class="code hl_function" href="group__actorpos.html#ga678f5b2f22a60903eb28adacd96e1ffe">NGActorSetPos</a>(ball_actor, pos.<a class="code hl_variable" href="struct_n_g_vec2.html#a875f17f123e76be9f6565a1d10fbd27f">x</a> - <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(8), pos.<a class="code hl_variable" href="struct_n_g_vec2.html#a1569a627f70a341e14b662817354c978">y</a> - <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(8));  <span class="comment">// Offset to top-left</span></div>
<div class="ttc" id="agroup__fixed1616_html_ga4ceea0e31ae25efeaa7a4c76d85ed950"><div class="ttname"><a href="group__fixed1616.html#ga4ceea0e31ae25efeaa7a4c76d85ed950">FIX_ONE</a></div><div class="ttdeci">#define FIX_ONE</div><div class="ttdoc">1.0 in fixed format</div><div class="ttdef"><b>Definition</b> ngmath.h:41</div></div>
<div class="ttc" id="agroup__physbody_html_ga71f06725f5584492191561d34474b9e4"><div class="ttname"><a href="group__physbody.html#ga71f06725f5584492191561d34474b9e4">NGBodyHandle</a></div><div class="ttdeci">NGBody * NGBodyHandle</div><div class="ttdoc">Body handle.</div><div class="ttdef"><b>Definition</b> physics.h:99</div></div>
<div class="ttc" id="agroup__physbodyfn_html_ga6bd850b79955c91d2f94432dbfbcd2fc"><div class="ttname"><a href="group__physbodyfn.html#ga6bd850b79955c91d2f94432dbfbcd2fc">NGPhysBodyCreateAABB</a></div><div class="ttdeci">NGBodyHandle NGPhysBodyCreateAABB(NGPhysWorldHandle world, fixed x, fixed y, fixed half_width, fixed half_height)</div><div class="ttdoc">Create an AABB body.</div></div>
<div class="ttc" id="agroup__physbodyfn_html_gaa6fe7d788f7474d886061afe1d09b4be"><div class="ttname"><a href="group__physbodyfn.html#gaa6fe7d788f7474d886061afe1d09b4be">NGPhysBodyCreateCircle</a></div><div class="ttdeci">NGBodyHandle NGPhysBodyCreateCircle(NGPhysWorldHandle world, fixed x, fixed y, fixed radius)</div><div class="ttdoc">Create a circle body.</div></div>
<div class="ttc" id="agroup__physprop_html_ga440ab5b3164444d3065371189e60234d"><div class="ttname"><a href="group__physprop.html#ga440ab5b3164444d3065371189e60234d">NGPhysBodyGetPos</a></div><div class="ttdeci">NGVec2 NGPhysBodyGetPos(NGBodyHandle body)</div><div class="ttdoc">Get body position.</div></div>
<div class="ttc" id="agroup__physprop_html_ga763fa63ef4e97a20660c2bd5cadbdb1c"><div class="ttname"><a href="group__physprop.html#ga763fa63ef4e97a20660c2bd5cadbdb1c">NGPhysBodySetRestitution</a></div><div class="ttdeci">void NGPhysBodySetRestitution(NGBodyHandle body, fixed restitution)</div><div class="ttdoc">Set body restitution (bounciness).</div></div>
<div class="ttc" id="agroup__physprop_html_gaf95e2b408040f86683af1496776a59fa"><div class="ttname"><a href="group__physprop.html#gaf95e2b408040f86683af1496776a59fa">NGPhysBodySetStatic</a></div><div class="ttdeci">void NGPhysBodySetStatic(NGBodyHandle body, u8 is_static)</div><div class="ttdoc">Set body static state.</div></div>
<div class="ttc" id="agroup__physprop_html_gaff3ae048ea28053186ba96ccf5929700"><div class="ttname"><a href="group__physprop.html#gaff3ae048ea28053186ba96ccf5929700">NGPhysBodySetVel</a></div><div class="ttdeci">void NGPhysBodySetVel(NGBodyHandle body, fixed vx, fixed vy)</div><div class="ttdoc">Set body velocity.</div></div>
<div class="ttc" id="agroup__physworld_html_gaca723cbf4f28b8cb2a279e64a51cfeed"><div class="ttname"><a href="group__physworld.html#gaca723cbf4f28b8cb2a279e64a51cfeed">NGPhysWorldHandle</a></div><div class="ttdeci">NGPhysWorld * NGPhysWorldHandle</div><div class="ttdoc">World handle.</div><div class="ttdef"><b>Definition</b> physics.h:122</div></div>
<div class="ttc" id="agroup__physworldfn_html_ga94226cbb592cb8831d67f079d6e25984"><div class="ttname"><a href="group__physworldfn.html#ga94226cbb592cb8831d67f079d6e25984">NGPhysWorldUpdate</a></div><div class="ttdeci">void NGPhysWorldUpdate(NGPhysWorldHandle world, NGCollisionCallback callback, void *callback_data)</div><div class="ttdoc">Update physics simulation.</div></div>
<div class="ttc" id="agroup__physworldfn_html_gaa4ec25d6801866f2cf7ea2ca44c25e68"><div class="ttname"><a href="group__physworldfn.html#gaa4ec25d6801866f2cf7ea2ca44c25e68">NGPhysWorldSetGravity</a></div><div class="ttdeci">void NGPhysWorldSetGravity(NGPhysWorldHandle world, fixed gx, fixed gy)</div><div class="ttdoc">Set world gravity.</div></div>
<div class="ttc" id="agroup__physworldfn_html_gad2e33f15c4ee9ee2310bf283d9ce5921"><div class="ttname"><a href="group__physworldfn.html#gad2e33f15c4ee9ee2310bf283d9ce5921">NGPhysWorldSetBounds</a></div><div class="ttdeci">void NGPhysWorldSetBounds(NGPhysWorldHandle world, fixed left, fixed right, fixed top, fixed bottom)</div><div class="ttdoc">Set screen bounds for edge collision.</div></div>
<div class="ttc" id="agroup__physworldfn_html_gad814dc24ccee35df2454f52ef0c8bba6"><div class="ttname"><a href="group__physworldfn.html#gad814dc24ccee35df2454f52ef0c8bba6">NGPhysWorldCreate</a></div><div class="ttdeci">NGPhysWorldHandle NGPhysWorldCreate(void)</div><div class="ttdoc">Create a physics world.</div></div>
<div class="ttc" id="angmath_8h_html"><div class="ttname"><a href="ngmath_8h.html">ngmath.h</a></div><div class="ttdoc">Fixed-point math types and functions.</div></div>
<div class="ttc" id="aphysics_8h_html"><div class="ttname"><a href="physics_8h.html">physics.h</a></div><div class="ttdoc">Simple 2D physics engine.</div></div>
<div class="ttc" id="astruct_n_g_collision_html"><div class="ttname"><a href="struct_n_g_collision.html">NGCollision</a></div><div class="ttdoc">Collision information.</div><div class="ttdef"><b>Definition</b> physics.h:131</div></div>
<div class="ttc" id="astruct_n_g_vec2_html"><div class="ttname"><a href="struct_n_g_vec2.html">NGVec2</a></div><div class="ttdoc">2D vector with fixed-point components</div><div class="ttdef"><b>Definition</b> ngmath.h:218</div></div>
<div class="ttc" id="astruct_n_g_vec2_html_a1569a627f70a341e14b662817354c978"><div class="ttname"><a href="struct_n_g_vec2.html#a1569a627f70a341e14b662817354c978">NGVec2::y</a></div><div class="ttdeci">fixed y</div><div class="ttdoc">Y component.</div><div class="ttdef"><b>Definition</b> ngmath.h:220</div></div>
<div class="ttc" id="astruct_n_g_vec2_html_a875f17f123e76be9f6565a1d10fbd27f"><div class="ttname"><a href="struct_n_g_vec2.html#a875f17f123e76be9f6565a1d10fbd27f">NGVec2::x</a></div><div class="ttdeci">fixed x</div><div class="ttdoc">X component.</div><div class="ttdef"><b>Definition</b> ngmath.h:219</div></div>
</div><!-- fragment --><p>See <a class="el" href="group__physworldfn.html">World Management</a> and <a class="el" href="group__physbodyfn.html">Body Management</a> for all functions.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md12"></a>
Fixed-Point Math (ngmath.h)</h2>
<p>The m68000 has no FPU. Use 16.16 fixed-point for fractional values.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="ngmath_8h.html">ngmath.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Convert to/from fixed</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> x = <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(10);              <span class="comment">// Integer 10 -&gt; fixed</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> y = <a class="code hl_define" href="group__fixed1616.html#ga485478deea5ba033b373a6e9653a66bb">FIX_FROM_FLOAT</a>(2.5);  <span class="comment">// Compile-time only</span></div>
<div class="line"><span class="keywordtype">int</span> i = <a class="code hl_define" href="group__fixed1616.html#ga4789bab381d709b9c6bc2193ff9323c2">FIX_INT</a>(x);             <span class="comment">// fixed -&gt; integer (truncates)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Arithmetic</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> sum = a + b;           <span class="comment">// Addition is normal</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> diff = a - b;          <span class="comment">// Subtraction is normal</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> prod = <a class="code hl_function" href="group__fixed1616.html#gad9f402e8708878e1a2c5d369071c32a5">FIX_MUL</a>(a, b);  <span class="comment">// Multiplication</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> quot = <a class="code hl_define" href="group__fixed1616.html#ga27aff173830c15a4d6a3e4811e5ec086">FIX_DIV</a>(a, b);  <span class="comment">// Division (slow - avoid in loops)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Constants</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> one = <a class="code hl_define" href="group__fixed1616.html#ga4ceea0e31ae25efeaa7a4c76d85ed950">FIX_ONE</a>;         <span class="comment">// 1.0 in fixed-point</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> half = <a class="code hl_define" href="group__fixed1616.html#gac73891f76a4e140722af25976d2ed074">FIX_HALF</a>;       <span class="comment">// 0.5 in fixed-point</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Vectors</span></div>
<div class="line"><a class="code hl_struct" href="struct_n_g_vec2.html">NGVec2</a> pos = {<a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(100), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(50)};</div>
<div class="line"><a class="code hl_struct" href="struct_n_g_vec2.html">NGVec2</a> vel = {<a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(2), <a class="code hl_define" href="group__fixed1616.html#ga740431a9a1d25e39e670cd5f48454ce4">FIX</a>(-1)};</div>
<div class="line">pos = <a class="code hl_function" href="group__vec2.html#ga877f27ba1094a10035748c2da35bbc99">NGVec2Add</a>(pos, vel);</div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> len = <a class="code hl_function" href="group__vec2.html#ga75511069e0c38a15ff64ab458ecb8f76">NGVec2Length</a>(vel);</div>
<div class="line"><a class="code hl_struct" href="struct_n_g_vec2.html">NGVec2</a> norm = <a class="code hl_function" href="group__vec2.html#ga12f9003b16c8fa1c521d9576ce50b079">NGVec2Normalize</a>(vel);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Trigonometry (angles are 0-255, not radians)</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> sin_val = <a class="code hl_function" href="group__trig.html#gad62ae26209d5c09d90c717d478872a4b">NGSin</a>(angle);  <span class="comment">// angle: 0-255 (256 = full circle)</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> cos_val = <a class="code hl_function" href="group__trig.html#gaeb44eb3c8070ecf1009b6e1067541a9e">NGCos</a>(angle);</div>
<div class="line"><a class="code hl_typedef" href="group__types.html#ga92c50087ca0e64fa93fc59402c55f8ca">u8</a> angle = <a class="code hl_function" href="group__trig.html#ga3c215abf0475db8f724d9c2ea83ea72e">NGAtan2</a>(dy, dx);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Utilities</span></div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> abs_val = NGAbs(x);</div>
<div class="line"><a class="code hl_typedef" href="group__fixedtypes.html#gab10b35d10a092b9db6712d15cb9d6ad9">fixed</a> clamped = <a class="code hl_function" href="group__mathutil.html#gaa7b22f70e3ce9b479660e8b3d7e5e3f0">NGClamp</a>(x, min, max);</div>
<div class="line"><a class="code hl_typedef" href="group__types.html#gae9b1af5c037e57a98884758875d3a7c4">s32</a> sign = NGSign(x);  <span class="comment">// -1, 0, or 1</span></div>
<div class="ttc" id="agroup__fixed1616_html_ga27aff173830c15a4d6a3e4811e5ec086"><div class="ttname"><a href="group__fixed1616.html#ga27aff173830c15a4d6a3e4811e5ec086">FIX_DIV</a></div><div class="ttdeci">#define FIX_DIV(a, b)</div><div class="ttdoc">Divide two fixed values (slow - prefer multiply by reciprocal).</div><div class="ttdef"><b>Definition</b> ngmath.h:76</div></div>
<div class="ttc" id="agroup__fixed1616_html_ga4789bab381d709b9c6bc2193ff9323c2"><div class="ttname"><a href="group__fixed1616.html#ga4789bab381d709b9c6bc2193ff9323c2">FIX_INT</a></div><div class="ttdeci">#define FIX_INT(x)</div><div class="ttdoc">Convert fixed to integer (truncates toward zero).</div><div class="ttdef"><b>Definition</b> ngmath.h:48</div></div>
<div class="ttc" id="agroup__fixed1616_html_gac73891f76a4e140722af25976d2ed074"><div class="ttname"><a href="group__fixed1616.html#gac73891f76a4e140722af25976d2ed074">FIX_HALF</a></div><div class="ttdeci">#define FIX_HALF</div><div class="ttdoc">0.5 in fixed format</div><div class="ttdef"><b>Definition</b> ngmath.h:42</div></div>
<div class="ttc" id="agroup__fixed1616_html_gad9f402e8708878e1a2c5d369071c32a5"><div class="ttname"><a href="group__fixed1616.html#gad9f402e8708878e1a2c5d369071c32a5">FIX_MUL</a></div><div class="ttdeci">static fixed FIX_MUL(fixed a, fixed b)</div><div class="ttdoc">Multiply two fixed values.</div><div class="ttdef"><b>Definition</b> ngmath.h:63</div></div>
<div class="ttc" id="agroup__mathutil_html_gaa7b22f70e3ce9b479660e8b3d7e5e3f0"><div class="ttname"><a href="group__mathutil.html#gaa7b22f70e3ce9b479660e8b3d7e5e3f0">NGClamp</a></div><div class="ttdeci">fixed NGClamp(fixed x, fixed min, fixed max)</div><div class="ttdoc">Clamp value to range.</div></div>
<div class="ttc" id="agroup__trig_html_ga3c215abf0475db8f724d9c2ea83ea72e"><div class="ttname"><a href="group__trig.html#ga3c215abf0475db8f724d9c2ea83ea72e">NGAtan2</a></div><div class="ttdeci">angle_t NGAtan2(fixed y, fixed x)</div><div class="ttdoc">Compute angle from vector.</div></div>
<div class="ttc" id="agroup__trig_html_gad62ae26209d5c09d90c717d478872a4b"><div class="ttname"><a href="group__trig.html#gad62ae26209d5c09d90c717d478872a4b">NGSin</a></div><div class="ttdeci">fixed NGSin(angle_t angle)</div><div class="ttdoc">Get sine of angle.</div></div>
<div class="ttc" id="agroup__trig_html_gaeb44eb3c8070ecf1009b6e1067541a9e"><div class="ttname"><a href="group__trig.html#gaeb44eb3c8070ecf1009b6e1067541a9e">NGCos</a></div><div class="ttdeci">fixed NGCos(angle_t angle)</div><div class="ttdoc">Get cosine of angle.</div></div>
<div class="ttc" id="agroup__types_html_gae9b1af5c037e57a98884758875d3a7c4"><div class="ttname"><a href="group__types.html#gae9b1af5c037e57a98884758875d3a7c4">s32</a></div><div class="ttdeci">int32_t s32</div><div class="ttdoc">Signed 32-bit integer.</div><div class="ttdef"><b>Definition</b> types.h:29</div></div>
<div class="ttc" id="agroup__vec2_html_ga12f9003b16c8fa1c521d9576ce50b079"><div class="ttname"><a href="group__vec2.html#ga12f9003b16c8fa1c521d9576ce50b079">NGVec2Normalize</a></div><div class="ttdeci">NGVec2 NGVec2Normalize(NGVec2 v)</div><div class="ttdoc">Normalize vector to unit length.</div></div>
<div class="ttc" id="agroup__vec2_html_ga75511069e0c38a15ff64ab458ecb8f76"><div class="ttname"><a href="group__vec2.html#ga75511069e0c38a15ff64ab458ecb8f76">NGVec2Length</a></div><div class="ttdeci">fixed NGVec2Length(NGVec2 v)</div><div class="ttdoc">Vector length.</div></div>
<div class="ttc" id="agroup__vec2_html_ga877f27ba1094a10035748c2da35bbc99"><div class="ttname"><a href="group__vec2.html#ga877f27ba1094a10035748c2da35bbc99">NGVec2Add</a></div><div class="ttdeci">static NGVec2 NGVec2Add(NGVec2 a, NGVec2 b)</div><div class="ttdoc">Add two vectors.</div><div class="ttdef"><b>Definition</b> ngmath.h:224</div></div>
</div><!-- fragment --><p>See <a class="el" href="group__fixed1616.html">16.16 Fixed-Point Math</a>, <a class="el" href="group__vec2.html">2D Vectors</a>, and <a class="el" href="group__trig.html">Trigonometry</a> for all functions.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md13"></a>
Asset Pipeline</h1>
<p>The <span class="tt">ngres</span> tool processes <span class="tt">assets.yaml</span> to generate:</p><ul>
<li>C-ROM graphics (sprite and parallax layer tiles)</li>
<li>V-ROM data (ADPCM audio)</li>
<li>Palette data</li>
<li>C header with asset definitions</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md14"></a>
Visual Assets</h2>
<div class="fragment"><div class="line">visual_assets:</div>
<div class="line">  # Static image</div>
<div class="line">  - name: background</div>
<div class="line">    source: assets/background.png</div>
<div class="line"> </div>
<div class="line">  # Animated sprite</div>
<div class="line">  - name: player</div>
<div class="line">    source: assets/player.png</div>
<div class="line">    frame_size: [32, 32]</div>
<div class="line">    animations:</div>
<div class="line">      idle: { frames: [0], speed: 1, loop: true }</div>
<div class="line">      walk: { frames: [0-3], speed: 4, loop: true }</div>
<div class="line">      jump: { frames: [4, 5], speed: 2, loop: false }</div>
</div><!-- fragment --><p>Generates: <span class="tt">NGVisualAsset_player</span>, <span class="tt">NGVisualAsset_background</span></p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md15"></a>
Palettes</h2>
<div class="fragment"><div class="line">palettes:</div>
<div class="line">  # Extract from image</div>
<div class="line">  player_colors:</div>
<div class="line">    source: assets/player.png</div>
<div class="line"> </div>
<div class="line">  # Manual definition</div>
<div class="line">  custom:</div>
<div class="line">    colors: [0x8000, 0xFFFF, 0x7C00, ...]  # 16 colors in NeoGeo format</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md16"></a>
Sound Effects and Music</h2>
<div class="fragment"><div class="line"># Sound effects (ADPCM-A: 18.5kHz, 6 channels)</div>
<div class="line">sound_effects:</div>
<div class="line">  - name: jump</div>
<div class="line">    source: assets/jump.wav</div>
<div class="line">  - name: hit</div>
<div class="line">    source: assets/hit.wav</div>
<div class="line"> </div>
<div class="line"># Music (ADPCM-B: variable rate, 1 channel)</div>
<div class="line">music:</div>
<div class="line">  - name: theme</div>
<div class="line">    source: assets/theme.wav</div>
<div class="line">    sample_rate: 22050</div>
<div class="line">    loop: true</div>
</div><!-- fragment --><p>Run <span class="tt">python3 tools/ngres.py assets.yaml -o build/</span> to generate assets.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md17"></a>
Main Loop Structure</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md18"></a>
Using NGEngine (Recommended)</h2>
<p>The simplest approach uses the engine module to handle boilerplate:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="engine_8h.html">engine.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>) {</div>
<div class="line">    <a class="code hl_function" href="engine_8h.html#a55017b07231911533e95c93d30e6440e">NGEngineInit</a>();  <span class="comment">// Initialize all subsystems</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create game objects...</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (;;) {</div>
<div class="line">        <a class="code hl_function" href="engine_8h.html#a6e8bf3d4bac5edbb8514e537031a1d96">NGEngineFrameStart</a>();  <span class="comment">// vblank, watchdog, arena reset, input</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Your game logic here...</span></div>
<div class="line"> </div>
<div class="line">        <a class="code hl_function" href="engine_8h.html#ab581b5bb0d999b3b0a82aa73a7fa8435">NGEngineFrameEnd</a>();    <span class="comment">// scene update, scene draw, menu draw</span></div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="doxsection"><a class="anchor" id="autotoc_md19"></a>
Manual Control</h2>
<p>For full control over timing, call subsystems directly:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> (;;) {</div>
<div class="line">    <a class="code hl_function" href="group__sysfunc.html#ga0b2d84942932f62ab9b8c499143690cc">NGWaitVBlank</a>();       <span class="comment">// Wait for vertical blank</span></div>
<div class="line">    <a class="code hl_function" href="group__sysfunc.html#gaeeec9ad408a177434bfb8786f38e9666">NGWatchdogKick</a>();     <span class="comment">// Reset hardware watchdog</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// --- VRAM writes (during vblank) ---</span></div>
<div class="line">    <a class="code hl_function" href="group__scenefunc.html#ga6944b90a0d738f233f3111685d6461a6">NGSceneDraw</a>();        <span class="comment">// Render scene to VRAM</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// --- Game logic (can extend past vblank) ---</span></div>
<div class="line">    <a class="code hl_function" href="arena_8h.html#a6ca41028d8e36c94a2b3c365b255791c">NGArenaReset</a>(&amp;<a class="code hl_variable" href="arena_8h.html#a65d108e3a46cd3e5baefe40ebe43f526">ng_arena_frame</a>);  <span class="comment">// Reset frame allocator</span></div>
<div class="line">    <a class="code hl_function" href="group__inputsys.html#ga3c55ceb8ac0f8d11f2fd648bb3fa501d">NGInputUpdate</a>();                <span class="comment">// Read controller state</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Your game logic here...</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="group__camsys.html#gac1ef42265da8e4e8e5a00409ce88d796">NGCameraUpdate</a>();     <span class="comment">// Update camera zoom animation</span></div>
<div class="line">    <a class="code hl_function" href="group__scenefunc.html#ga628305416db1aff66e3380c574132a0e">NGSceneUpdate</a>();      <span class="comment">// Advance animations</span></div>
<div class="line">}</div>
<div class="ttc" id="aarena_8h_html_a65d108e3a46cd3e5baefe40ebe43f526"><div class="ttname"><a href="arena_8h.html#a65d108e3a46cd3e5baefe40ebe43f526">ng_arena_frame</a></div><div class="ttdeci">NGArena ng_arena_frame</div></div>
<div class="ttc" id="aarena_8h_html_a6ca41028d8e36c94a2b3c365b255791c"><div class="ttname"><a href="arena_8h.html#a6ca41028d8e36c94a2b3c365b255791c">NGArenaReset</a></div><div class="ttdeci">void NGArenaReset(NGArena *arena)</div></div>
<div class="ttc" id="agroup__sysfunc_html_ga0b2d84942932f62ab9b8c499143690cc"><div class="ttname"><a href="group__sysfunc.html#ga0b2d84942932f62ab9b8c499143690cc">NGWaitVBlank</a></div><div class="ttdeci">void NGWaitVBlank(void)</div><div class="ttdoc">Wait for vertical blank period.</div></div>
<div class="ttc" id="agroup__sysfunc_html_gaeeec9ad408a177434bfb8786f38e9666"><div class="ttname"><a href="group__sysfunc.html#gaeeec9ad408a177434bfb8786f38e9666">NGWatchdogKick</a></div><div class="ttdeci">static void NGWatchdogKick(void)</div><div class="ttdoc">Kick the watchdog timer.</div><div class="ttdef"><b>Definition</b> neogeo.h:69</div></div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md20"></a>
Hardware Limits</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Resource  </th><th class="markdownTableHeadNone">Limit  </th><th class="markdownTableHeadNone">Notes  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Screen  </td><td class="markdownTableBodyNone">320x224 pixels  </td><td class="markdownTableBodyNone">Use <span class="tt"><a class="el" href="group__camviewport.html#gaabb75fc049bfd90a9c19c342c595c8a0" title="Screen width in pixels.">NG_CAM_VIEWPORT_WIDTH</a></span>, <span class="tt"><a class="el" href="group__camviewport.html#gaae5089e230f2d4b74972bb015088f14a" title="Screen height in pixels.">NG_CAM_VIEWPORT_HEIGHT</a></span>  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Sprites  </td><td class="markdownTableBodyNone">381 total  </td><td class="markdownTableBodyNone">Hardware sprites (used by parallax layers too)  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Sprites/line  </td><td class="markdownTableBodyNone">96  </td><td class="markdownTableBodyNone">Maximum sprites on any scanline  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Fix layer  </td><td class="markdownTableBodyNone">40x32 tiles  </td><td class="markdownTableBodyNone">28 rows visible on screen  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Palettes  </td><td class="markdownTableBodyNone">256 x 16 colors  </td><td class="markdownTableBodyNone">0-15 typically for fix, 16-255 for sprites  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Colors  </td><td class="markdownTableBodyNone">65536  </td><td class="markdownTableBodyNone">15-bit RGB + dark bit  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">C-ROM tiles  </td><td class="markdownTableBodyNone">65536 max  </td><td class="markdownTableBodyNone">Sprite/parallax graphics  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">S-ROM tiles  </td><td class="markdownTableBodyNone">8192 max  </td><td class="markdownTableBodyNone">Fix layer graphics  </td></tr>
</table>
<h1 class="doxsection"><a class="anchor" id="autotoc_md21"></a>
Building</h1>
<p>Use the provided demo as a starting point:</p>
<div class="fragment"><div class="line">cd demo</div>
<div class="line">make          # Build ROM files</div>
<div class="line">make clean    # Clean build artifacts</div>
</div><!-- fragment --><p>Output files:</p><ul>
<li><span class="tt">mygame-p1.bin</span> - Program ROM (68000 code)</li>
<li><span class="tt">mygame-c1.bin</span>, <span class="tt">mygame-c2.bin</span> - Sprite graphics</li>
<li><span class="tt">mygame-s1.bin</span> - Fix layer graphics</li>
<li><span class="tt">mygame-m1.bin</span> - Sound driver (Z80 code)</li>
<li><span class="tt">mygame-v1.bin</span> - Audio samples</li>
</ul>
<p>To run in MAME, zip the ROM files into a romset and place in your MAME roms directory along with <span class="tt">neogeo.zip</span> (BIOS). </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
